(function(e){function t(t){for(var s,a,o=t[0],c=t[1],u=t[2],d=0,v=[];d<o.length;d++)a=o[d],r[a]&&v.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(v.length)v.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},r={app:0},i=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"017e":function(e,t,n){"use strict";var s=n("c7a5"),r=n.n(s);r.a},"0389":function(e,t,n){},"0408":function(e,t,n){"use strict";var s=n("3290"),r=n.n(s);r.a},"09ab":function(e,t,n){},"0f7c":function(e,t,n){"use strict";var s=n("9b73"),r=n.n(s);r.a},1:function(e,t){},"165f":function(e,t,n){"use strict";var s=n("4397"),r=n.n(s);r.a},"17f2":function(e,t,n){},"1afe":function(e,t,n){"use strict";var s=n("317a"),r=n.n(s);r.a},"215f":function(e,t,n){"use strict";var s=n("9276"),r=n.n(s);r.a},"2c99":function(e,t,n){},"2f79":function(e,t,n){},3057:function(e,t,n){},"317a":function(e,t,n){},3290:function(e,t,n){},"386d":function(e,t,n){},"3ee3":function(e,t,n){"use strict";var s=n("ccc5"),r=n.n(s);r.a},4397:function(e,t,n){},"49c7":function(e,t,n){},"4ce1":function(e,t,n){"use strict";var s=n("17f2"),r=n.n(s);r.a},"50fc":function(e,t,n){},"51d0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("router-view"),n("msg-msg"),n("footer-comp")],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar flex space-between"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-drum fa-lg"}),e._v(" MUSIGROUPS")]),n("div",{staticClass:"links"},[e.isLoggedInUser?n("el-button",{attrs:{round:"",to:"/event/edit"},on:{click:e.goEdit}},[e._v("\n        Create "),n("i",{staticClass:"fas fa-plus"})]):e._e(),e.loggedInUser?n("img",{staticClass:"circle-icon-sm",attrs:{src:e.loggedInUser.pic},on:{click:e.goProfile}}):e._e(),e.isLoggedInUser?n("router-link",{attrs:{to:"/user/"+e.loggedInUser._id}},[e._v("\n        Profile\n      ")]):e._e(),e.isLoggedInUser?n("a",{on:{click:e.logout}},[e._v("Logout")]):n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),n("a",{staticClass:"icon",class:{open:e.isOpen,guest:!e.isLoggedInUser},on:{click:e.setIsOpen}},[n("i",{staticClass:"fa fa-bars"})]),n("aside",{staticClass:"flex flex-column",class:{open:e.isOpen,guest:!e.isLoggedInUser}},[e.isLoggedInUser?n("a",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.isLoggedInUser?n("div",{staticClass:"flex align-center profile-wrapper"},[n("img",{staticClass:"circle-icon-sm",attrs:{src:e.loggedInUser.pic},on:{click:e.goProfile}}),n("a",{on:{click:e.goProfile}},[e._v("\n          Profile\n        ")])]):n("a",{on:{click:e.goLogin}},[e._v("Login")]),e.isLoggedInUser?n("el-button",{attrs:{round:"",to:"/event/edit"},on:{click:e.goEdit}},[e._v("\n        Create "),n("i",{staticClass:"fas fa-plus"})]):e._e()],1)],1)},o=[],c={data:function(){return{isOpen:!1}},methods:{goProfile:function(){this.isOpen=!1,this.$router.push("/user/".concat(this.loggedInUser._id))},setIsOpen:function(){return this.isOpen=!this.isOpen},logout:function(){var e=this;this.isOpen=!1,this.$store.dispatch({type:"logout"}).then(function(){e.$router.push("/")})},goEdit:function(){this.isOpen=!1,this.$router.push("/event/edit")},goLogin:function(){this.isOpen=!1,this.$router.push("/login")}},computed:{isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}}},u=c,l=(n("c597"),n("2877")),d=Object(l["a"])(u,a,o,!1,null,null,null);d.options.__file="nav-bar.vue";var v=d.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"msg-msg",class:{show:e.isShowing}},[n("h3",[e._v(e._s(e.msg))])])},p=[],f="show-user-msg",g="filter",h=new s["default"],k=h,I={data:function(){return{isShowing:!1,msg:"event updated"}},methods:{},computed:{},watch:{},created:function(){var e=this;k.$on(f,function(t){e.msg=t,e.isShowing=!e.isShowing,setTimeout(function(){e.isShowing=!e.isShowing},2500)})}},b=I,_=(n("1afe"),Object(l["a"])(b,m,p,!1,null,"15d78b8c",null));_.options.__file="msg-msg.vue";var y=_.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"footer"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-drum fa-lg"}),e._v(" MUSIGROUPS\n  ")]),n("router-link",{staticClass:"logo",attrs:{to:"/about"}},[n("i",{staticClass:"fas fa-info-circle fa-lg"}),e._v(" About us\n  ")])],1)},E=[],C={},x=C,U=(n("017e"),Object(l["a"])(x,w,E,!1,null,"b1689bd8",null));U.options.__file="footer-comp.vue";var P=U.exports,$={components:{navBar:v,msgMsg:y,footerComp:P},created:function(){this.$store.dispatch("getLoggedInUser")}},A=$,j=(n("5c0b"),Object(l["a"])(A,r,i,!1,null,null,null));j.options.__file="App.vue";var S=j.exports,O=n("5c96"),L=n.n(O),M=n("8c4f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("header",[n("replacing-images"),e._m(0)],1),e.loggedInUser?n("div",{staticClass:"carousels-container loggedIn"},[e._l(e.loggedInUser.favGenres,function(t){return[e.genreEvents(t).length?n("section",{key:t,staticClass:"carousel-section favourite-genre"},[n("h2",{staticClass:"capitalize"},[e._v("Especially for you, "+e._s(t)+" music sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents(t)}}),n("a",{on:{click:function(n){e.goList(t.toLowerCase())}}},[e._v("Show All "+e._s(t)+" sessions")])],1):e._e()]}),e._l(e.loggedInUser.instruments,function(t){return[e.instrumentEvents(t).length?n("section",{key:t,staticClass:"carousel-section favourite-genre"},[n("h2",{staticClass:"capitalize"},[e._v("Especially for you, sessions that need a "+e._s(t)+" player:")]),n("event-carousel",{attrs:{events:e.instrumentEvents(t)}}),n("a",{on:{click:function(n){e.goList("",t.toLowerCase())}}},[e._v("Show All "+e._s(t)+" Events")])],1):e._e()]})],2):e._e(),n("div",{staticClass:"carousels-container"},[n("section",{staticClass:"carousel-section close-distance-events"},[n("h2",{staticClass:"capitalize"},[e._v("Music sessions in your area:")]),n("event-carousel",{attrs:{events:e.closeEvents}}),n("a",{on:{click:function(t){e.goList("","","location")}}},[e._v("Show All sessions")])],1),n("section",{staticClass:"carousel-section close-distance-events"},[n("h2",{staticClass:"capitalize"},[e._v("sessions happening this week:")]),n("event-carousel",{attrs:{events:e.thisWeekEvents}})],1),n("section",{staticClass:"carousel-section rock-events"},[n("h2",{staticClass:"capitalize"},[e._v("Rock sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("rock")}}),n("a",{on:{click:function(t){e.goList("rock")}}},[e._v("Show All Rock sessions")])],1),e.waitingEvents.length?n("section",{staticClass:"carousel-section just-opened-events"},[n("h2",{staticClass:"capitalize"},[e._v("Just Opened!")]),n("event-carousel",{attrs:{events:e.waitingEvents}}),n("a",{on:{click:function(t){e.goList("","","","","Waiting for players")}}},[e._v("Show All Recent sessions")])],1):e._e(),e.almostFullEvents.length?n("section",{staticClass:"carousel-section almost-full-events"},[n("h2",{staticClass:"capitalize"},[e._v("Almost full grab your place!")]),n("event-carousel",{attrs:{events:e.almostFullEvents}}),n("a",{on:{click:function(t){e.goList("","","","","almost full")}}},[e._v("Show All sessions")])],1):e._e(),n("section",{staticClass:"carousel-section reggae-events"},[n("h2",{staticClass:"capitalize"},[e._v("Reggae sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("reggae")}}),n("a",{on:{click:function(t){e.goList("reggae")}}},[e._v("Show All Reggae sessions")])],1),n("section",{staticClass:"carousel-section world-music-events"},[n("h2",{staticClass:"capitalize"},[e._v("World Music sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("world")}}),n("a",{on:{click:function(t){e.goList("world")}}},[e._v("Show All World Music sessions")])],1),e.genreEvents("progressive rock").length?n("section",{staticClass:"carousel-section progressive-rock-events"},[n("h2",{staticClass:"capitalize"},[e._v("Progressive Rock sessions:")]),n("event-carousel",{attrs:{events:e.genreEvents("progressive rock")}}),n("a",{on:{click:function(t){e.goList("progressive rock")}}},[e._v("Show All Progressive Rock sessions")])],1):e._e()])])},z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"welcome-text"},[n("h2",{staticClass:"white-text"},[e._v("Welcome to\n        "),n("br"),n("i",{staticClass:"fas fa-drum"}),e._v("MUSIGROUPS\n      ")]),n("h4",{staticClass:"pl-10"},[n("p",{staticClass:"white-text bold"},[e._v("\n          Here you can find and join\n          jam sessions, created by musicians in your area,\n          or create your own sessions.\n        ")]),n("p",{staticClass:"white-text bold"},[e._v("Connect with the musician community in a new way.")])])])}],T=(n("7f7f"),n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"event-list"},e._l(e.events,function(e){return n("event-preview",{key:e._id,attrs:{event:e}})}))}),q=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"event-preview flex flex-column space-between"},[n("router-link",{attrs:{to:"/event/"+e.event._id}},[n("div",{staticClass:"pic-wrapper flex flex-column justify-center"},[n("img",{staticClass:"main-img",attrs:{src:e.event.pic,alt:"event image"}})])]),n("div",{staticClass:"details flex flex-column space-between capitalize"},[n("div",{staticClass:"details-section"},[n("h6",{staticClass:"bold"},[e._v(e._s(e.event.title))]),n("span",[e._v(e._s(e.event.genre)+" music"),e.event.level.length?n("span",[e._v(" for "+e._s(e.event.level)+"s")]):e._e()]),n("span",[e._v(", happening on "+e._s(e.dateToShow)+" in "+e._s(e.event.location.city)+".")]),n("div",{staticClass:"flex mt-5"},e._l(e.playersToShow,function(t){return n("div",{key:t._id},[t?n("router-link",{attrs:{to:"/user/"+t._id}},[n("img",{staticClass:"circle-icon",attrs:{title:t.name,src:t.pic}})]):e._e()],1)}))]),n("div",{staticClass:"details-section"},[n("required-instruments",{attrs:{preview:!0,event:e.event}})],1)])],1)},B=[],F=(n("28a5"),n("ac6a"),n("bc3a")),J="",H=[];Y();var R={query:X,getById:K,signupUser:V,updateUser:Q,login:Z,logout:D,getLoggedInUser:W};function D(){return F.post("".concat(J,"/logout")).then(function(){sessionStorage.removeItem("loggedInUser")})}function W(){return sessionStorage.loggedInUser?Promise.resolve(JSON.parse(sessionStorage.loggedInUser)):Promise.resolve("")}function K(e){if(e)return F.get("".concat(J,"/player/").concat(e)),F.get("".concat(J,"/player/").concat(e)).then(function(e){return e.data})}function V(e){return F.post("".concat(J,"/signup"),e)}function Z(e){var t=e.userName,n=e.password;return F.put("".concat(J,"/login"),{userName:t,password:n}).then(function(e){return sessionStorage.loggedInUser=JSON.stringify(e.data),e.data})}function Q(e){var t=e._id;return F.put("".concat(J,"/player/").concat(t),e)}function X(){return Promise.resolve(H)}function Y(){H=[{name:"rocki",password:"123",pic:"https://api.adorable.io/avatars/64/rocki.png",partEvents:[],adminEventsIds:[],instruments:["guitar"],favGenres:["rock","country"],level:"professional"},{name:"mocki",password:"234",pic:"https://api.adorable.io/avatars/64/mocki.png",partEventsIds:[],adminEventsIds:[],instruments:["drums"],favGenres:["rock"],level:"amateur"},{name:"bobo",password:"123",pic:"https://api.adorable.io/avatars/64/bobo.png",partEventsIds:[],adminEventsIds:[],instruments:["flute"],favGenres:["french"],level:"amateur"},{name:"robo",password:"123",pic:"https://api.adorable.io/avatars/64/robo.png",partEventsIds:[],adminEventsIds:[],instruments:["whistler"],favGenres:["irish"],level:"professional"},{name:"michael",password:"123",pic:"https://api.adorable.io/avatars/64/michael.png",partEventsIds:[],adminEventsIds:[],instruments:["trombone"],favGenres:["folk"],level:"amateur"},{name:"pichael",password:"123",pic:"https://api.adorable.io/avatars/64/pichael.png",partEventsIds:[],adminEventsIds:[],instruments:["trumpet"],favGenres:["jazz"],level:"professional"},{name:"leon",password:"123",pic:"https://api.adorable.io/avatars/64/leon.png",partEventsIds:[],adminEventsIds:[],instruments:["bass"],favGenres:["rock"],level:"amateur"}]}var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"players-instruments flex flex-column"},e._l(e.players,function(t){return n("div",{key:t._id,staticClass:"row flex"},[n("div",{staticClass:"player-instrument-wrapper"},[t?n("router-link",{attrs:{to:"/user/"+t._id}},[n("img",{staticClass:"circle-icon",attrs:{title:t.name,src:t.pic}})]):e._e(),n("img",{staticClass:"inst",attrs:{src:"/img/events/"+e.playerInstrument(t._id)+".png"}})],1),n("div",{staticClass:"flex flex-column"},[n("span",{staticClass:"bold"},[e._v(e._s(t.name))]),n("span",{staticClass:"small-text"},[e._v(e._s(t.level)+" \n                "),e._l(t.instruments,function(t){return n("span",{key:t},[e._v(e._s(t)+" ")])}),e._v("\n                player.\n            ")],2)])])}))},te=[],ne=(n("20d6"),{props:{admin:Object,players:Array,event:Object},methods:{playerInstrument:function(e){var t=this.event.instruments.find(function(t){var n=t.playerIds.findIndex(function(t){return t===e});return-1===n?null:t});return t.name}}}),se=ne,re=(n("eb29"),Object(l["a"])(se,ee,te,!1,null,"5ee7aba5",null));re.options.__file="players-instruments.vue";var ie=re.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"required-instruments flex wrap"},[e._l(e.chosenInstruments,function(e){return n("div",{key:e},[n("img",{staticClass:"icon-green",attrs:{src:"/img/events/"+e+".png",title:"Already have "+e+"."}})])}),e._l(e.requiredInstruments,function(e){return n("div",{key:e},[n("img",{staticClass:"icon-red",attrs:{src:"/img/events/"+e+".png",title:"Still looking for "+e+"."}})])})],2)},oe=[],ce={name:"required-instruments",props:{event:Object,preview:Boolean},computed:{requiredInstruments:function(){var e=this.event.instruments.filter(function(e){return!e.playerIds.length}).map(function(e){return e.name});return this.preview&&e.length>6&&(e.length=6),e},chosenInstruments:function(){var e=this.event.instruments.filter(function(e){return e.playerIds.length}).map(function(e){return e.name});return this.preview&&e.length&&this.requiredInstruments.length+e.length>6&&(e.length=6-this.requiredInstruments.length),e},requiredInstrumentsObj:function(){return this.event.instruments.filter(function(e){return!e.playerIds.length})}},mounted:function(){this.$emit("setrequiredInstrumentsToShow",this.requiredInstrumentsObj)}},ue=ce,le=(n("788c"),Object(l["a"])(ue,ae,oe,!1,null,null,null));le.options.__file="required-instruments.vue";var de=le.exports,ve={components:{playersInstruments:ie,requiredInstruments:de},props:{event:Object},data:function(){return{players:[],admin:{}}},created:function(){var e=this,t=this.event.adminId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.admin=t}),this.event.instruments.forEach(function(t){return t.playerIds.forEach(function(t){t&&e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.players.push(t)})})})},computed:{status:function(){var e=this.event.joinedMembersCount/+this.event.allowedMembersCount;return e<.4?{txt:"Waiting for players",color:"lightgreen"}:e<.8?{txt:"Kinda full",color:"orange"}:e<1?{txt:"Almost full",color:"orangered"}:{txt:"Event full",color:"red"}},playersToShow:function(){return this.players.slice(0,4)},dateToShow:function(){var e=this.event.time.day.split("-").reverse();return e.splice(2,1),e.join("/")}}},me=ve,pe=(n("981f"),Object(l["a"])(me,G,B,!1,null,null,null));pe.options.__file="event-preview.vue";var fe=pe.exports,ge={props:{events:Array},components:{eventPreview:fe}},he=ge,ke=(n("0f7c"),Object(l["a"])(he,T,q,!1,null,null,null));ke.options.__file="event-list.vue";var Ie=ke.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"carousel"},[n("carousel",{attrs:{navigationNextLabel:e.rightArrow,navigationPrevLabel:e.leftArrow,perPageCustom:[[0,1],[700,2],[1030,3],[1250,4]],"mouse-drag":!0,navigationEnabled:!0}},e._l(e.events,function(e){return n("slide",{key:e._id,staticClass:"slide"},[n("event-preview",{attrs:{event:e}})],1)}))],1)},_e=[],ye={props:{events:Array},components:{eventPreview:fe},data:function(){return{rightArrow:'<i class="fas fa-chevron-right"></i>',leftArrow:'<i class="fas fa-chevron-left"></i>'}}},we=ye,Ee=(n("215f"),Object(l["a"])(we,be,_e,!1,null,null,null));Ee.options.__file="event-carousel.vue";var Ce=Ee.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"replacing-images"},e._l(4,function(t){return n("img",{key:t,class:{shown:e.chosenPic===t,hidden:e.chosenPic!==t},attrs:{src:"/img/previews/"+t+".jpg"}})}))},Ue=[],Pe={data:function(){return{chosenPic:1,interval:""}},created:function(){var e=this;this.interval=setInterval(function(){4===e.chosenPic&&(e.chosenPic=0),e.chosenPic++},5e3)},destroyed:function(){clearInterval(this.interval)}},$e=Pe,Ae=(n("b533"),Object(l["a"])($e,xe,Ue,!1,null,"5f176469",null));Ae.options.__file="replacing-images.vue";var je=Ae.exports,Se={name:"home",components:{eventList:Ie,eventPreview:fe,eventCarousel:Ce,replacingImages:je},computed:{events:function(){return this.$store.getters.events},closeEvents:function(){return this.events.filter(function(e){return"tel aviv"===e.location.city||"ramat gan"===e.location.city})},thisWeekEvents:function(){return this.events.filter(function(e){return e.time.timestamp>Date.now()&&e.time.timestamp<Date.now()+6048e5})},waitingEvents:function(){return this.events.filter(function(e){return"Waiting for players"===e.status})},almostFullEvents:function(){return this.events.filter(function(e){return"Almost full"===e.status||"Kinda full"===e.status})},guitarEventsToShow:function(){if(this.guitarEvents.length>6)return this.guitarEvents.slice(0,6)},isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{genreEvents:function(e){return this.events.filter(function(t){return t.genre.toLowerCase()===e.toLowerCase()})},instrumentEvents:function(e){return this.events.filter(function(t){return t.instruments.find(function(t){return t.name===e.toLowerCase()})})},goList:function(e,t,n,s,r){this.$router.push("/event"),setTimeout(function(){e&&k.$emit(g,{genre:e}),t&&k.$emit(g,{instrument:t}),n&&k.$emit(g,{location:n}),s&&k.$emit(g,{recent:s}),"Almost full"===r&&k.$emit(g,{status:r}),"Waiting for players"===r&&k.$emit(g,{status:r})},50)}},created:function(){document.body.scrollIntoView(),this.$store.dispatch({type:"loadEvents"})}},Oe=Se,Le=(n("6b13"),Object(l["a"])(Oe,N,z,!1,null,"b20233f4",null));Le.options.__file="Home.vue";var Me=Le.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"edit-event capitalize"},[n("form",{staticClass:"edit-event-wrapper flex space-between",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("div",{staticClass:"edit-event-container"},[n("div",{staticClass:"edit-event-user-container"},[n("h4",[e._v(e._s(e.loggedInUser.name))]),n("img",{staticClass:"circle-icon",attrs:{src:e.loggedInUser.pic,alt:"event admin"}})]),n("h4",[e._v("Session Title")]),n("el-input",{attrs:{required:"",type:"text",id:"title",placeholder:"Event Title"},model:{value:e.event.title,callback:function(t){e.$set(e.event,"title",t)},expression:"event.title"}}),n("h4",[e._v("select genre")]),n("el-select",{staticClass:"el-select",attrs:{required:"",placeholder:"select genre"},model:{value:e.event.genre,callback:function(t){e.$set(e.event,"genre",t)},expression:"event.genre"}},[n("el-option",{attrs:{value:"rock"}},[e._v("Rock")]),n("el-option",{attrs:{value:"country"}},[e._v("Country")]),n("el-option",{attrs:{value:"jazz"}},[e._v("Jazz")]),n("el-option",{attrs:{value:"classic"}},[e._v("Classic")]),n("el-option",{attrs:{value:"world"}},[e._v("World")]),n("el-option",{attrs:{value:"reggae"}},[e._v("Reggae")]),n("el-option",{attrs:{value:"Progressive rock"}},[e._v("Progressive Rock")]),n("el-option",{attrs:{value:"personal"}},[e._v("Personal Material")])],1),n("h4",[e._v("select level")]),n("el-select",{staticClass:"el-select",attrs:{required:"",placeholder:"level"},model:{value:e.event.level,callback:function(t){e.$set(e.event,"level",t)},expression:"event.level"}},[n("el-option",{attrs:{value:"pro"}},[e._v("Professional")]),n("el-option",{attrs:{value:"amateur"}},[e._v("Amateur")])],1),n("h4",[e._v("Session Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.desc,expression:"event.desc"}],attrs:{placeholder:"Event Description"},domProps:{value:e.event.desc},on:{input:function(t){t.target.composing||e.$set(e.event,"desc",t.target.value)}}}),n("h4",[e._v("Choose instruments")]),e.event&&e.pickedInstruments.length||!e.event._id?n("instruments-multiple-pick",{attrs:{currInstruments:e.pickedInstruments},on:{setPickedInstruments:e.setPickedInstruments}}):e._e()],1),n("div",{staticClass:"edit-event-container"},[n("h4",[e._v("Session date")]),n("el-input",{attrs:{required:"",type:"date"},model:{value:e.event.time.day,callback:function(t){e.$set(e.event.time,"day",t)},expression:"event.time.day"}}),n("div",[n("h4",[e._v("hour")]),n("vue-timepicker",{attrs:{required:"","minute-interval":15,format:"HH:mm"},model:{value:e.event.time.hour,callback:function(t){e.$set(e.event.time,"hour",t)},expression:"event.time.hour"}})],1),n("h4",[e._v("cost")]),n("el-input",{attrs:{type:"number",min:"0",placeholder:"cost"},model:{value:e.event.cost,callback:function(t){e.$set(e.event,"cost",t)},expression:"event.cost"}}),n("div",{staticClass:"img-n-address-container"},[n("div",{staticClass:"address-container"},[n("h4",[e._v("city")]),n("el-input",{attrs:{required:"",placeholder:"city"},model:{value:e.event.location.city,callback:function(t){e.$set(e.event.location,"city",t)},expression:"event.location.city"}}),n("h4",[e._v("street")]),n("el-input",{attrs:{required:"",placeholder:"street & number"},model:{value:e.event.location.address,callback:function(t){e.$set(e.event.location,"address",t)},expression:"event.location.address"}})],1)]),n("div",{staticClass:"btns-wrapper"},[e.isUpdateEvent?n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[e._v("Update Session")]):n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[e._v("Save Session")]),n("router-link",{attrs:{to:"/"}},[n("el-button",{attrs:{round:""}},[e._v("Cancel")])],1)],1)],1)])])},ze=[],Te=n("bc3a"),qe="/api",Ge={query:Be,getEventById:Fe,saveEvent:He,remove:Je,getImage:Re};function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="/event";return e&&(n+="?genre=".concat(e.byGenre,"&instrument=").concat(e.byInstrument,"\n                &name=").concat(e.byName,"&status=").concat(e.byStatus)),t&&(n+="&sortBy=".concat(t.sorter,"&order=").concat(t.order)),Te.get(qe+n).then(function(e){return e.data})}function Fe(e){return Te.get("".concat(qe,"/event/").concat(e)).then(function(e){return e.data})}function Je(e){return Te.delete("".concat(qe,"/event/").concat(e))}function He(e){return e._id?Te.put("".concat(qe,"/event/").concat(e._id),e):Te.post("".concat(qe,"/event"),e)}function Re(){var e=De(1,20);return"/img/previews/".concat(e,".jpg")}function De(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-list flex wrap"},e._l(e.instruments,function(t,s){return n("div",{key:t.name,on:{click:function(t){e.toggleInstrument(s)}}},[n("el-button",{on:{click:function(n){e.$emit("add-instrument",t.name)}}},[e._v(e._s(t.name))])],1)}))},Ke=[],Ve={data:function(){return{instruments:[{name:"guitar",src:"",isSelected:!1},{name:"dj",src:"",isSelected:!1},{name:"acoustic-guitar",src:"",isSelected:!1},{name:"drums",src:"",isSelected:!1},{name:"bass-guitar",src:"",isSelected:!1},{name:"flute",src:"",isSelected:!1},{name:"piano",src:"",isSelected:!1},{name:"trumpet",src:"",isSelected:!1},{name:"tuba",src:"",isSelected:!1},{name:"french-horn",src:"",isSelected:!1},{name:"trombone",src:"",isSelected:!1},{name:"violin",src:"",isSelected:!1},{name:"saxophone",src:"",isSelected:!1},{name:"synthesizer",src:"",isSelected:!1},{name:"other",src:"",isSelected:!1}]}},methods:{toggleInstrument:function(e){this.instruments[e].isSelected=!this.instruments[e].isSelected}}},Ze=Ve,Qe=(n("c192"),Object(l["a"])(Ze,We,Ke,!1,null,null,null));Qe.options.__file="instrument-list.vue";var Xe=Qe.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-wrapper"},[n("div",{staticClass:"signup-instruments flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"guitar",value:"guitar",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"guitar")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="guitar",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"guitar"}},[n("img",{class:{picked:e.itemPicked.guitar},attrs:{src:"/img/events/guitar.png",title:"guitar"},on:{click:function(t){e.setPicked("guitar")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"bass-guitar",value:"bass-guitar",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"bass-guitar")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="bass-guitar",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"bass-guitar"}},[n("img",{class:{picked:e.itemPicked.bassGuitar},attrs:{src:"/img/events/bass-guitar.png",title:"bass-guitar"},on:{click:function(t){e.setPicked("bassGuitar")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"acoustic-guitar",value:"acoustic-guitar",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"acoustic-guitar")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="acoustic-guitar",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"acoustic-guitar"}},[n("img",{class:{picked:e.itemPicked.acousticGuitar},attrs:{src:"/img/events/acoustic-guitar.png",title:"acoustic-guitar"},on:{click:function(t){e.setPicked("acousticGuitar")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"dj",value:"dj",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"dj")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="dj",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"dj"}},[n("img",{class:{picked:e.itemPicked.dj},attrs:{src:"/img/events/dj.png",title:"dj"},on:{click:function(t){e.setPicked("dj")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"drums",value:"drums",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"drums")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="drums",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"drums"}},[n("img",{class:{picked:e.itemPicked.drums},attrs:{src:"/img/events/drums.png",title:"drums"},on:{click:function(t){e.setPicked("drums")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"flute",value:"flute",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"flute")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="flute",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"flute"}},[n("img",{class:{picked:e.itemPicked.flute},attrs:{src:"/img/events/flute.png",title:"flute"},on:{click:function(t){e.setPicked("flute")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"french-horn",value:"french-horn",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"french-horn")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="french-horn",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"french-horn"}},[n("img",{class:{picked:e.itemPicked.frenchHorn},attrs:{src:"/img/events/french-horn.png",title:"french-horn"},on:{click:function(t){e.setPicked("frenchHorn")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"piano",value:"piano",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"piano")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="piano",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"piano"}},[n("img",{class:{picked:e.itemPicked.piano},attrs:{src:"/img/events/piano.png",title:"piano"},on:{click:function(t){e.setPicked("piano")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"saxophone",value:"saxophone",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"saxophone")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="saxophone",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"saxophone"}},[n("img",{class:{picked:e.itemPicked.saxophone},attrs:{src:"/img/events/saxophone.png",title:"saxophone"},on:{click:function(t){e.setPicked("saxophone")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"synthesizer",value:"synthesizer",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"synthesizer")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="synthesizer",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"synthesizer"}},[n("img",{class:{picked:e.itemPicked.synthesizer},attrs:{src:"/img/events/synthesizer.png",title:"synthesizer"},on:{click:function(t){e.setPicked("synthesizer")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"trumpet",value:"trumpet",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"trumpet")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="trumpet",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"trumpet"}},[n("img",{class:{picked:e.itemPicked.trumpet},attrs:{src:"/img/events/trumpet.png",title:"trumpet"},on:{click:function(t){e.setPicked("trumpet")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"tuba",value:"tuba",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"tuba")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="tuba",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"tuba"}},[n("img",{class:{picked:e.itemPicked.tuba},attrs:{src:"/img/events/tuba.png",title:"tuba"},on:{click:function(t){e.setPicked("tuba")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"violin",value:"violin",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"violin")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="violin",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"violin"}},[n("img",{class:{picked:e.itemPicked.violin},attrs:{src:"/img/events/violin.png",title:"violin"},on:{click:function(t){e.setPicked("violin")}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedInstruments,expression:"pickedInstruments"}],attrs:{type:"checkbox",id:"other",value:"other",hidden:""},domProps:{checked:Array.isArray(e.pickedInstruments)?e._i(e.pickedInstruments,"other")>-1:e.pickedInstruments},on:{change:[function(t){var n=e.pickedInstruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="other",a=e._i(n,i);s.checked?a<0&&(e.pickedInstruments=n.concat([i])):a>-1&&(e.pickedInstruments=n.slice(0,a).concat(n.slice(a+1)))}else e.pickedInstruments=r},e.setPickedInstruments]}}),n("label",{attrs:{for:"other"}},[n("img",{class:{picked:e.itemPicked.other},attrs:{src:"/img/events/other.png",title:"other"},on:{click:function(t){e.setPicked("other")}}})])])])},et=[],tt=(n("a481"),{props:["currInstruments"],data:function(){return{pickedInstruments:[],itemPicked:{guitar:!1,bassGuitar:!1,acousticGuitar:!1,dj:!1,flute:!1,frenchHorn:!1,other:!1,piano:!1,saxophone:!1,synthesizer:!1,trumpet:!1,tuba:!1,violin:!1}}},methods:{setPickedInstruments:function(){this.$emit("setPickedInstruments",this.pickedInstruments)},setPicked:function(e){this.itemPicked[e]=!this.itemPicked[e],this.setPickedInstruments()}},created:function(){var e=this;this.currInstruments&&this.currInstruments.length>0&&(this.pickedInstruments=this.currInstruments,this.pickedInstruments.forEach(function(t){e.itemPicked[t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})]=!0}))},mounted:function(){}}),nt=tt,st=(n("0408"),Object(l["a"])(nt,Ye,et,!1,null,"2c1c2359",null));st.options.__file="instruments-multiple-pick.vue";var rt=st.exports,it=n("517f"),at=n.n(it),ot={name:"edit-event",data:function(){return{event:{adminId:"",location:{address:"",city:""},time:{day:"",hour:{HH:"19",mm:"00",hours:"",minutes:""}},title:"",desc:"",genre:"",level:"",pic:"",instruments:[],allowedMembersCount:0,joinedMembersCount:0,cost:0,msgs:[]},pickedInstruments:[]}},components:{instrumentsMultiplePick:rt,instrumentList:Xe,VueTimepicker:at.a},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},isUpdateEvent:function(){return!!this.$route.params.eventId}},methods:{onSubmit:function(){this.isUpdateEvent?this.updateEvent():this.saveNewEvent()},fillEventObject:function(){this.event.time.timestamp=new Date(this.event.time.day).getTime(),this.event.time.hour.hours=this.event.time.hour.HH,this.event.time.hour.minutes=this.event.time.hour.mm},saveNewEvent:function(){var e=this;this.pickedInstruments.forEach(function(t){e.addInstrument(t)}),this.fillEventObject(),this.$store.dispatch({type:"saveNewEvent",event:this.event}).then(function(t){e.$store.dispatch({type:"updateUserAdminEvents",eventId:t}),e.$router.push("/")})},updateEvent:function(){var e=this;this.pickedInstruments.forEach(function(t){e.addInstrument(t)}),this.fillEventObject(),this.$store.dispatch({type:"updateEvent",event:this.event}).then(function(t){e.$router.push("/")})},setPickedInstruments:function(e){this.pickedInstruments=e},addInstrument:function(e){this.allowedMembersCount++;var t=this.event.instruments.find(function(t){return t.name===e}),n={name:e,amount:1,playerIds:[]};t?t.amount++:this.event.instruments.push(n)}},created:function(){var e=this;this.isLoggedInUser||this.$router.push("/"),document.body.scrollIntoView(),this.event.adminId=this.loggedInUser._id,this.event.adminName=this.loggedInUser.name;var t=this.$route.params.eventId;t&&this.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.event=t;var n=e.event.instruments.map(function(e){return e.instrument});e.pickedInstruments=n,e.event.pic=Ge.getImage()}),this.event.pic=Ge.getImage()}},ct=ot,ut=(n("165f"),Object(l["a"])(ct,Ne,ze,!1,null,null,null));ut.options.__file="event-edit.vue";var lt=ut.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event?n("section",{staticClass:"cards-wrapper flex space-between capitalize"},[n("div",{staticClass:"card-container"},[n("h1",[e._v(e._s(e.event.title))]),n("div",{staticClass:"flex wrap align-center"},[n("img",{staticClass:"circle-icon mb-10",attrs:{src:e.admin.pic,alt:"event admin",title:e.admin.name}}),n("h4",{staticClass:"card-organizer-name px-10 capitalize"},[e._v(e._s(e.event.adminName)+" ")]),e.isLoggedInUserAdmin?[n("el-button",{attrs:{type:"success",round:""},on:{click:e.goEdit}},[n("i",{staticClass:"fas fa-edit"}),e._v(" Edit Event\n        ")]),n("el-button",{attrs:{type:"danger",round:""},on:{click:e.removeEvent}},[n("i",{staticClass:"fas fa-trash-alt"}),e._v(" Cancel Event\n        ")])]:e._e()],2),n("div",{staticClass:"card-item-container"},[n("h4",[n("span",[e._v("Genre: "+e._s(e.event.genre))]),n("span",[e._v(" Level: "+e._s(e.event.level))])])]),n("div",{staticClass:"card-item-container"},[n("p",{staticClass:"card-description"},[e._v(e._s(e.event.desc))]),n("div",{staticClass:"event-details"},[n("span",{staticClass:"capitalize"},[e._v(e._s(e.event.location.address)+", "+e._s(e.event.location.city))]),e.event.cost?n("span",[e._v("cost: "+e._s(e.event.cost)+"$")]):n("span",[e._v("cost: free")])]),n("h4",[e._v("Map")]),e.center?n("GmapMap",{ref:"mapRef",staticClass:"static map",staticStyle:{height:"300px"},attrs:{zoom:18,center:e.center,"map-type-id":"roadmap"}},e._l(e.markers,function(t,s){return n("GmapMarker",{key:s,attrs:{position:t.position,clickable:!0},on:{click:function(n){e.center=t.position}}})})):e._e()],1)]),n("div",{staticClass:"card-container"},[e.loggedInUser?e._e():n("el-button",{staticClass:"static join-button",attrs:{type:"info",round:""},on:{click:e.loginToJoin}},[e._v("Login to join")]),e.loggedInUser&&0===e.requiredInstrumentsToShow.length?n("el-button",{staticClass:"static join-button",attrs:{type:"warning",round:""}},[e._v("Event is full")]):e._e(),e.loggedInUser&&e.participatingUser?n("el-button",{staticClass:"static join-button",attrs:{type:"warning",round:""}},[e._v("Already Joined")]):e._e(),e.requiredInstrumentsToShow.length>0&&e.loggedInUser&&!e.isLoggedInUserAdmin&&!e.isJoining&&!e.participatingUser?n("el-button",{staticClass:"static join-button brand-button",attrs:{round:""},on:{click:e.toggleJoin}},[e._v("Join the event")]):e._e(),e.loggedInUser&&!e.isLoggedInUserAdmin&&e.isJoining?n("el-button",{staticClass:"static join-button",attrs:{round:""},on:{click:e.toggleJoin}},[e._v("Cancel")]):e._e(),n("transition",{attrs:{name:"fade"}},[e.isJoining&&e.requiredInstrumentsToShow.length>0?n("pick-instruments-comp",{attrs:{instruments:e.requiredInstrumentsToShow},on:{selectedInstrument:e.joinTheEvent}}):e._e()],1),n("h4",[e._v("Chat")]),n("feed-comp",{attrs:{currEvent:e.event},on:{pushMsgToHistory:e.pushMsgToHistory}}),n("h4",[e._v("required instruments:\n      "),n("required-instruments",{attrs:{preview:!1,event:e.event},on:{setrequiredInstrumentsToShow:e.setrequiredInstrumentsToShow}})],1),n("h4",[e._v(e._s(e.event.joinedMembersCount)+"/"+e._s(e.event.instruments.length)+" participators")]),e.isLoggedInUserAdmin?n("el-button",{attrs:{type:"danger",round:""}},[e._v("Remove participant")]):e._e(),n("h4",[e._v("attending:")]),n("players-instruments",{attrs:{event:e.event,players:e.players}})],1)]):e._e()},vt=[],mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.center?n("GmapMap",{ref:"mapRef",staticClass:"static map",staticStyle:{height:"300px"},attrs:{zoom:18,center:e.center,"map-type-id":"roadmap"}},e._l(e.markers,function(t,s){return e.markers.position?n("GmapMarker",{key:s,attrs:{position:t.position,clickable:!0},on:{click:function(n){e.center=t.position}}}):e._e()})):e._e()},pt=[],ft=n("bc3a"),gt={props:["currEvent"],data:function(){return{markers:[{position:null}],center:null}},methods:{getCoorFromAddress:function(e){var t=this,n="".concat(e.address.replace(/[^a-zA-Z0-9]/g,"+"),"+").concat(e.city.replace(/[^a-zA-Z0-9]/g,"+"));return ft.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,"&key=AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4")).then(function(e){var n=e.data.results[0].geometry.location;return t.center=n,t.markers.position.push(n),n}).then(function(e){t.$refs.mapRef.panTo(e)})}},created:function(){this.getCoorFromAddress(this.currEvent.location)}},ht=gt,kt=(n("d937"),Object(l["a"])(ht,mt,pt,!1,null,null,null));kt.options.__file="gmap-map.vue";var It=kt.exports,bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conversation"},[n("div",{ref:"conversationRef",staticClass:"conversation-container"},e._l(e.msgs,function(t,s){return n("div",{key:s},[n("div",{staticClass:"container",class:{msgOut:e.nickName===t.from,msgIn:e.nickName!==t.from}},[n("p",{staticClass:"msg"},[n("img",{staticClass:"chat-user-img",attrs:{src:"/img/users/"+t.from+".jpg"}}),n("span",{staticClass:"chat-user-name"},[e._v("("+e._s(t.from)+"): ")]),n("br"),e._v(e._s(t.txt))])])])})),e.nickName?n("form",{staticClass:"conversation-compose"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMsg.txt,expression:"newMsg.txt"}],staticClass:"input-msg",attrs:{name:"input",placeholder:"Type a message",autocomplete:"off",autofocus:""},domProps:{value:e.newMsg.txt},on:{input:function(t){t.target.composing||e.$set(e.newMsg,"txt",t.target.value)}}}),n("button",{on:{click:function(t){return t.preventDefault(),e.send(t)}}},[e._v("send")])]):e._e()])},_t=[],yt=(n("8055"),[]),wt=function(){return yt};function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jhon doe",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{txt:t,from:e}}function Ct(e){socket.emit("chat room-joined",e)}function xt(){socket.emit("disconnect")}var Ut={getMsgs:wt,createEmptyMsg:Et,roomJoin:Ct,disconnectFromRoom:xt};var Pt={props:["currEvent"],data:function(){return{msgs:[],nickName:null,newMsg:null,typeMsg:""}},methods:{send:function(){this.$socket.emit("assignMsg",{msg:this.newMsg,room:this.currEvent._id}),this.pushMsgToHistory(this.newMsg),this.newMsg=Ut.createEmptyMsg(this.nickName)},scrollToEnd:function(){var e=this.$refs.conversationRef,t=e.scrollHeight;e.scrollTop=t},pushMsgToHistory:function(e){this.$emit("pushMsgToHistory",e)}},created:function(){this.msgs=JSON.parse(JSON.stringify(this.$store.getters.currEvent.msgs)),this.nickName=this.$store.getters.loggedInUser.name,this.newMsg=Ut.createEmptyMsg(this.nickName);var e=this.currEvent._id;this.$socket.emit("chatJoined",e)},sockets:{renderMsg:function(e){var t=this;this.msgs.push(e),this.$nextTick(function(){t.scrollToEnd()})}},mounted:function(){this.scrollToEnd()}},$t=Pt,At=(n("9ddd"),Object(l["a"])($t,bt,_t,!1,null,"011532bf",null));At.options.__file="feed-comp.vue";var jt=At.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-wrapper"},[n("h4",{staticClass:"final-join-btn"},[e._v("Pick your instrument:")]),n("div",{staticClass:"instruments-container flex"},e._l(e.instruments,function(t,s){return n("div",{key:s,on:{click:function(n){e.setPickedInstrument(t)}}},[n("img",{class:{picked:e.pickedInstrument===t.name},attrs:{src:"/img/events/"+t.name+".png"}})])})),n("el-button",{staticClass:"final-join-btn brand-button",attrs:{round:""},on:{click:e.selectInstrument}},[e._v("Join As: "+e._s(e.pickedInstrument))]),n("el-button",{attrs:{round:""},on:{click:e.cancelInstrumentPick}},[e._v("Back")])],1)},Ot=[],Lt={name:"pick-instruments-comp",props:["instruments"],data:function(){return{pickedInstrument:null}},methods:{setPickedInstrument:function(e){this.pickedInstrument=e.name},selectInstrument:function(){this.$emit("selectedInstrument",this.pickedInstrument)},cancelInstrumentPick:function(){this.pickedInstrument=null,this.selectInstrument()}}},Mt=Lt,Nt=(n("e17d"),Object(l["a"])(Mt,St,Ot,!1,null,"4d60808d",null));Nt.options.__file="pick-instruments-comp.vue";var zt=Nt.exports,Tt=n("bc3a"),qt={components:{gmapMap:It,feedComp:jt,pickInstrumentsComp:zt,playersInstruments:ie,requiredInstruments:de},data:function(){return{event:null,players:[],admin:{},isLoggedInUserAdmin:!1,isJoining:!1,markers:[],center:null,requiredInstrumentsToShow:[]}},methods:{setrequiredInstrumentsToShow:function(e){this.requiredInstrumentsToShow=e},pushMsgToHistory:function(e){this.$store.dispatch({type:"pushMsgToHistory",msg:e})},addPlayer:function(){this.players.push(this.loggedInUser)},joinAs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.event.instruments.find(function(t){return t.name===e});t.playersIds.length<t.amount&&t.playersIds.push(this.loggedInUser._id)},joinTheEvent:function(e){var t=this;this.isJoining=!1;var n={instrument:e,eventId:this.$route.params.eventId};this.$store.dispatch({type:"updateUserPartEvents",joinedEvent:n}).then(function(){t.$store.dispatch({type:"joinEvent",joinedEvent:n}).then(function(){t.$store.dispatch({type:"getEventById",eventId:t.event._id}).then(function(e){t.event=e,t.addPlayer(),document.body.querySelector("footer").scrollIntoView({block:"end",behavior:"smooth"})})})})},goEdit:function(){var e=this.event._id;this.$router.push("/event/edit/".concat(e))},removeEvent:function(){var e=this,t=this.event._id;this.$store.dispatch({type:"removeEvent",eventId:t}).then(function(){e.$router.push("/")})},getCoorFromAddress:function(e){var t=this,n="".concat(e.address.replace(/[^a-zA-Z0-9]/g,"+"),"+").concat(e.city.replace(/[^a-zA-Z0-9]/g,"+"));return Tt.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,"&key=AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4")).then(function(e){var n=e.data.results[0].geometry.location;return t.center=n,t.markers.push({position:n}),n}).then(function(e){t.$refs.mapRef.panTo(e)})},toggleJoin:function(){this.isJoining=!this.isJoining},loginToJoin:function(){var e=this.event._id;this.$router.push("/login/".concat(e))},getEvent:function(e){var t=this;return this.$store.dispatch({type:"getEventById",eventId:e}).then(function(e){return t.event=e,t.getCoorFromAddress(e.location),t.event})},getAdmin:function(){var e=this,t=this.event.adminId;return this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.admin=t,e.admin._id===e.loggedInUser._id&&(e.isLoggedInUserAdmin=!0)})},getPlayers:function(){var e=this;this.event.instruments.forEach(function(t){return t.playerIds.forEach(function(t){t&&e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.players.push(t)})})})}},computed:{participatingUser:function(){var e=this;return this.players.find(function(t){return t._id===e.loggedInUser._id})},loggedInUser:function(){return this.$store.getters.loggedInUser},dateToShow:function(){return this.event.time.day.split("-").reverse().join("/")}},created:function(){var e=this;document.body.scrollIntoView();var t=this.$route.params.eventId;this.getEvent(t).then(function(){e.getAdmin()}).then(function(){e.getPlayers()})}},Gt=qt,Bt=(n("3ee3"),Object(l["a"])(Gt,dt,vt,!1,null,"2a082c0c",null));Bt.options.__file="event-details.vue";var Ft=Bt.exports,Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"events-page"},[n("h1",[e._v(e._s(e.headline))]),n("filter-events",{on:{"filter-set":e.setFilter}}),n("event-list",{attrs:{events:e.events}})],1)},Ht=[],Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-filter flex align-center"},[n("div",{staticClass:"toggle-filter white-text",on:{click:e.openFilter}},[n("i",{staticClass:"fas fa-filter"})]),n("aside",{class:{open:e.isOpen}},[n("el-input",{staticClass:"el-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"search"},on:{input:e.setFilter},model:{value:e.filter.byName,callback:function(t){e.$set(e.filter,"byName",t)},expression:"filter.byName"}}),n("el-select",{staticClass:"el-select",attrs:{placeholder:"genre"},on:{change:e.setFilter},model:{value:e.filter.byGenre,callback:function(t){e.$set(e.filter,"byGenre",t)},expression:"filter.byGenre"}},e._l(e.genres,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-select",{staticClass:"el-select",attrs:{placeholder:"instrument"},on:{change:e.setFilter},model:{value:e.filter.byInstrument,callback:function(t){e.$set(e.filter,"byInstrument",t)},expression:"filter.byInstrument"}},e._l(e.instruments,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-select",{staticClass:"el-select",attrs:{placeholder:"Event status"},on:{change:e.setFilter},model:{value:e.filter.byStatus,callback:function(t){e.$set(e.filter,"byStatus",t)},expression:"filter.byStatus"}},e._l(e.statuses,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-button",{staticClass:"brand-button",attrs:{round:""},on:{click:function(t){e.setSorter("time")}}},[n("i",{staticClass:"fas fa-sort"}),e._v(e._s("Sort by date"))]),n("el-button",{staticClass:"brand-button",attrs:{round:""},on:{click:function(t){e.setSorter("allowedMembersCount")}}},[n("i",{staticClass:"fas fa-sort"}),e._v(e._s("Sort by participants"))])],1)])},Dt=[],Wt=(n("55dd"),{created:function(){var e=this;k.$on(g,function(t){t.genre&&(e.filter.byGenre=t.genre),t.instrument&&(e.filter.byInstrument=t.instrument),t.location&&(e.filter.byLocation=t.location),t.recent&&(e.filter.byRecent=t.recent),"Almost full"===t.status&&(e.filter.byStatus="Almost full"),"Waiting for players"===t.status&&(e.filter.byStatus="Waiting for players"),e.setFilter()})},data:function(){return{isOpen:!1,filter:{byName:"",byInstrument:"",byGenre:"",byLocation:"",byStatus:"",byRecent:""},sort:{sorter:"",order:-1},selected:"All Categories",statuses:[{label:"empty",value:"Waiting for players"},{label:"Kinda full",value:"Kinda full"},{label:"Almost full",value:"Almost full"},{label:"Event full",value:"Event full"},{label:"All statuses",value:"All statuses"}],genres:[{label:"rock",value:"rock"},{label:"jazz",value:"jazz"},{label:"reggae",value:"reggae"},{label:"country",value:"country"},{label:"world",value:"world"},{label:"All genres",value:"All genres"}],instruments:[{label:"guitar",value:"guitar"},{label:"acoustic guitar",value:"acoustic-guitar"},{label:"bass",value:"bass-guitar"},{label:"drums",value:"drums"},{label:"flute",value:"flute"},{label:"clarinet",value:"clarinet"},{label:"piano",value:"piano"},{label:"trumpet",value:"trumpet"},{label:"french horn",value:"french-horn"},{label:"tuba",value:"tuba"},{label:"synthesizer",value:"synthesizer"},{label:"violin",value:"violin"},{label:"saxophone",value:"saxophone"},{label:"dj",value:"dj"},{label:"All instruments",value:"All instruments"}]}},methods:{setFilter:function(){this.$emit("filter-set",this.filter,this.sort)},setSorter:function(e){this.sort.sorter=e,this.sort.order*=-1,this.$emit("filter-set",this.filter,this.sort)},openFilter:function(){this.isOpen=!this.isOpen}}}),Kt=Wt,Vt=(n("b216"),Object(l["a"])(Kt,Rt,Dt,!1,null,"360ebcf2",null));Vt.options.__file="filter-events.vue";var Zt=Vt.exports,Qt={name:"events-page",components:{filterEvents:Zt,eventList:Ie},props:{headline:String},data:function(){return{}},methods:{setFilter:function(e,t){this.$store.dispatch({type:"filter",filter:e,sort:t})}},computed:{events:function(){return this.$store.getters.events}},watch:{},created:function(){document.body.scrollIntoView(),this.$store.dispatch("loadEvents")}},Xt=Qt,Yt=(n("b246"),Object(l["a"])(Xt,Jt,Ht,!1,null,null,null));Yt.options.__file="events-page.vue";var en=Yt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"signup-card-wrapper"},[n("form",{staticClass:"signup-form-container flex flex-column align-center",on:{submit:function(t){return t.preventDefault(),e.submitNewUser(t)}}},[n("h1",[e._v("sign up")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{required:"",type:"text",placeholder:"Full Name..."},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{required:"",type:"password",placeholder:"Password..."},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{required:"",type:"email",placeholder:"name@email.com"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newUser.level,expression:"newUser.level"}],attrs:{required:"",placeholder:"How experienced are you?"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newUser,"level",t.target.multiple?n:n[0])}}},[n("option",[e._v("amateur")]),n("option",[e._v("professional")])]),n("h4",[e._v("Choose instruments you play:")]),n("instruments-multiple-pick",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],on:{setPickedInstruments:e.setPickedInstruments}}),n("span",[e._v("What genres do you like?")]),n("el-checkbox-group",{staticClass:"mt-20",attrs:{size:"medium"},model:{value:e.newUser.favGenres,callback:function(t){e.$set(e.newUser,"favGenres",t)},expression:"newUser.favGenres"}},e._l(e.genres,function(t){return n("el-checkbox-button",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newUser.bio,expression:"newUser.bio"}],staticClass:"signup-bio",attrs:{placeholder:"tell us about yourself..."},domProps:{value:e.newUser.bio},on:{input:function(t){t.target.composing||e.$set(e.newUser,"bio",t.target.value)}}}),n("div",{staticClass:"signup-button-wrapper"},[n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[e._v("Save")]),n("router-link",{attrs:{to:"/"}},[n("el-button",{staticClass:"brand-button",attrs:{round:""}},[e._v("Back")])],1)],1)],1)])},nn=[];n("bc3a");var sn={data:function(){return{newUser:{name:"",password:"",email:"",pic:"",instruments:[],level:"amateur",bio:"",favGenres:[],location:"",partEventsIds:[],adminEventsIds:[]},genres:["rock","classic","jazz","reggae","progressive rock","world","country"]}},methods:{submitNewUser:function(){var e=this;this.newUser.pic="/img/users/".concat(this.newUser.name,".jpg"),this.$store.dispatch({type:"signUpUser",newUser:this.newUser}).then(function(){e.fromEventId?e.$router.push("/event/".concat(e.fromEventId)):e.$router.push("/")})},setPickedInstruments:function(e){this.newUser.instruments=e}},components:{instrumentsMultiplePick:rt},created:function(){document.body.scrollIntoView(),this.fromEventId=this.$route.params.eventId}},rn=sn,an=(n("a227"),Object(l["a"])(rn,tn,nn,!1,null,null,null));an.options.__file="sign-up.vue";var on=an.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"login-page flex justify-center"},[n("form",{staticClass:"flex flex-column align-center",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("h2",[e._v("Login to play")]),n("el-input",{attrs:{required:"",placeholder:"username"},model:{value:e.loginData.userName,callback:function(t){e.$set(e.loginData,"userName",t)},expression:"loginData.userName"}}),n("el-input",{attrs:{required:"",type:"password",placeholder:"password"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}}),e.isWrong?n("span",[e._v("Wrong password / username")]):e._e(),n("div",{staticClass:"flex"},[n("el-button",{staticClass:"brand-button",attrs:{round:"","native-type":"submit"}},[n("i",{staticClass:"fas fa-sign-in-alt"}),e._v(" Login")]),n("el-button",{staticClass:"brand-button",attrs:{round:""},on:{click:e.signup}},[n("i",{staticClass:"fas fa-user-plus"}),e._v(" Sign Up")])],1),n("a",[e._v("forgot your password?")])],1)])},un=[],ln={data:function(){return{loginData:{userName:"",password:""},isWrong:!1,fromEventId:""}},methods:{onSubmit:function(){var e=this;this.$store.dispatch({type:"login",loginData:this.loginData}).then(function(t){t?(e.isWrong=!1,e.fromEventId?e.$router.push("/event/".concat(e.fromEventId)):e.$router.push("/")):e.isWrong=!0})},signup:function(){this.fromEventId?this.$router.push("/signup/".concat(this.fromEventId)):this.$router.push("/signup")}},created:function(){document.body.scrollIntoView(),this.fromEventId=this.$route.params.eventId}},dn=ln,vn=(n("8ff2"),Object(l["a"])(dn,cn,un,!1,null,null,null));vn.options.__file="login-page.vue";var mn=vn.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-profile-cards-wrapper flex"},[n("section",{staticClass:"user-profile-card-container flex"},[n("div",{staticClass:"user-profile-card"},[n("div",{staticClass:"user-details-headline flex wrap align-center"},[n("img",{staticClass:"user-pic",attrs:{src:e.user.pic}}),n("h2",[e._v(e._s(e.user.name))])])]),n("div",{staticClass:"user-profile-card"},[n("h4",[e._v("Level:")]),n("p",[e._v(e._s(e.user.level))])]),n("div",{staticClass:"user-profile-card"},[n("h4",[e._v("Instruments:")]),n("show-instruments-comp",{staticClass:"instrument-comp",attrs:{instruments:e.user.instruments}})],1),n("div",{staticClass:"user-profile-card"},[n("h4",[e._v("Preferred genres:")]),e._l(e.user.favGenres,function(t){return n("div",{key:t},[n("p",[e._v(e._s(t))])])})],2)]),e.user.bio.length?n("section",{staticClass:"user-profile-card-container"},[n("h4",[e._v("Bio:")]),n("p",[e._v(e._s(e.user.bio))])]):e._e(),e.userAdminEvents.length?n("section",{staticClass:"user-profile-card-container"},[n("section",{staticClass:"carousel-section progressive-rock-events"},[n("h3",{staticClass:"capitalize"},[e._v("Events "+e._s(e.user.name)+" created:")]),n("event-carousel",{attrs:{events:e.userAdminEvents}})],1)]):e._e(),e.userPartEvents.length?n("section",{staticClass:"user-profile-card-container"},[n("section",{staticClass:"carousel-section progressive-rock-events"},[n("h3",{staticClass:"capitalize"},[e._v("Events "+e._s(e.user.name)+" joined:")]),n("event-carousel",{attrs:{events:e.userPartEvents}})],1)]):e._e()])},fn=[],gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-wrapper"},[n("div",{staticClass:"instruments-container flex"},e._l(e.instruments,function(e,t){return n("div",{key:t},[n("img",{attrs:{src:"/img/events/"+e+".png"}})])}))])},hn=[],kn={name:"show-instruments-comp",props:["instruments"],data:function(){return{pickedInstrument:null}}},In=kn,bn=(n("8d32"),Object(l["a"])(In,gn,hn,!1,null,"68d1769e",null));bn.options.__file="show-instruments-comp.vue";var _n=bn.exports,yn={components:{eventCarousel:Ce,showInstrumentsComp:_n},data:function(){return{userAdminEvents:[],userPartEvents:[],user:""}},computed:{isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}},created:function(){var e=this;document.body.scrollIntoView();var t=this.$route.params.userId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){return e.user=t}).then(function(){e.user.adminEventsIds.forEach(function(t){e.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.userAdminEvents.push(t)})}),e.user.partEventsIds.forEach(function(t){e.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.userPartEvents.push(t)})})})}},wn=yn,En=(n("4ce1"),Object(l["a"])(wn,pn,fn,!1,null,"68a35036",null));En.options.__file="user-profile.vue";var Cn=En.exports,xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"about-cards-wrapper flex space-between"},[n("h2",[e._v("About Us")]),n("div",{staticClass:"about-card-container flex"},[n("div",{staticClass:"about-card-item-container"},[n("div",{staticClass:"about-details"},[n("img",{staticClass:"circle-icon",attrs:{src:"/img/about/assaf-pic.jpg"}}),n("h4",[e._v("Assaf Segev")]),n("p",[e._v("Fullstack web developer")]),n("a",{attrs:{href:"https://github.com/sggv950"}},[e._v("github profile")])])]),n("div",{staticClass:"about-card-item-container"},[n("div",{staticClass:"about-details"},[n("img",{staticClass:"circle-icon",attrs:{src:"/img/about/noam-pic.jpg"}}),n("h4",[e._v("Noam Kleiner")]),n("p",[e._v("Fullstack web developer")]),n("a",{attrs:{href:"https://github.com/nmkleiner"}},[e._v("github profile")])])])])])},Un=[],Pn={},$n=Pn,An=(n("cc51"),Object(l["a"])($n,xn,Un,!1,null,"27d8835a",null));An.options.__file="About.vue";var jn=An.exports;s["default"].use(M["a"]);var Sn=new M["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Me},{path:"/about",name:"about",component:jn},{path:"/event",name:"events-page",component:en},{path:"/event/edit",name:"event-edit",component:lt},{path:"/event/edit/:eventId",name:"event-edit",component:lt},{path:"/event/:eventId",name:"event-details",component:Ft},{path:"/signup",name:"signup",component:on},{path:"/signup/:eventId",name:"signup",component:on},{path:"/login",name:"login",component:mn},{path:"/login/:eventId",name:"login",component:mn},{path:"/user/:userId",name:"userProfile",component:Cn}]}),On=n("2f62"),Ln={state:{events:[],currEvent:null},mutations:{setEvents:function(e,t){var n=t.events;e.events=n},setCurrentEvent:function(e,t){var n=t.event;e.currEvent=n},setUpdateEvent:function(e,t){var n=t.joinedEvent;e.currEvent.instruments.find(function(e){return e.instrument===n.instrument}).playerIds.push(n.currUser._id),e.currEvent.joinedMembersCount++},setEventStatus:function(e){var t=e.currEvent.joinedMembersCount/+e.currEvent.allowedMembersCount;e.currEvent.status=t<.4?"Waiting for players":t<.8?"Kinda full":t<1?"Almost full":"Event full"},pushMsgToHistory:function(e,t){var n=t.msg;e.currEvent.msgs.push(n)}},actions:{joinEvent:function(e,t){var n=e.commit,s=e.getters,r=e.state,i=e.dispatch,a=t.joinedEvent;return a.currUser=s.loggedInUser,n({type:"setUpdateEvent",joinedEvent:a}),n({type:"setEventStatus",joinedEvent:a}),Ge.saveEvent(r.currEvent).then(function(){return i("loadEvents").then(function(){k.$emit(f,"Joined event.")})})},loadEvents:function(e){var t=e.commit;return Ge.query().then(function(e){t({type:"setEvents",events:e})})},getEventById:function(e,t){var n=e.commit,s=t.eventId;return Ge.getEventById(s).then(function(e){return n({type:"setCurrentEvent",event:e}),e})},saveNewEvent:function(e,t){e.commit;var n=t.event;return Ge.saveEvent(n).then(function(e){return k.$emit(f,"Event saved."),e.data.eventId})},updateEvent:function(e,t){e.commit;var n=t.event;return Ge.saveEvent(n).then(function(){k.$emit(f,"Event updated.")})},updateHistoryEvent:function(e,t){e.commit;var n=t.event;return Ge.saveEvent(n).then(function(){})},pushMsgToHistory:function(e,t){var n=e.commit,s=e.getters,r=e.dispatch,i=t.msg;n({type:"pushMsgToHistory",msg:i});var a=s.currEvent;r({type:"updateHistoryEvent",event:a})},removeEvent:function(e,t){e.commit;var n=t.eventId;return Ge.remove(n).then(function(){k.$emit(f,"Event canceled.")})},filter:function(e,t){var n=e.commit,s=e.dispatch,r=t.filter,i=t.sort;return r.byGenre||r.byInstrument||r.byName||r.byStatus?Ge.query(r,i).then(function(e){n({type:"setEvents",events:e})}):i?Ge.query(null,i):s("loadEvents")}},getters:{events:function(e){return e.events},currEvent:function(e){return e.currEvent}}},Mn={state:{loggedInUser:{}},mutations:{setLoggedInUser:function(e,t){var n=t.user;e.loggedInUser=n},loginNewUser:function(e,t){var n=t.newUser;e.loggedInUser=n},logOutUser:function(e){e.loggedInUser=""},setUserPartEvent:function(e,t){var n=t.joinedEvent;e.loggedInUser.partEventsIds.push(n.eventId)},setUserAdminEvent:function(e,t){var n=t.eventId;e.loggedInUser.adminEventsIds.push(n)}},actions:{login:function(e,t){var n=e.commit,s=t.loginData;return R.login(s).then(function(e){return e&&n({type:"setLoggedInUser",user:e}),e})},signUpUser:function(e,t){var n=e.dispatch,s=t.newUser;R.signupUser(s).then(function(){var e={userName:s.name,password:s.password};n({type:"login",loginData:e})})},logout:function(e){var t=e.commit;return R.logout(),t("logOutUser"),Promise.resolve()},updateUserPartEvents:function(e,t){var n=e.commit,s=e.state,r=t.joinedEvent;n({type:"setUserPartEvent",joinedEvent:r}),R.updateUser(s.loggedInUser)},updateUserAdminEvents:function(e,t){var n=e.commit,s=e.state,r=t.eventId;n({type:"setUserAdminEvent",eventId:r}),R.updateUser(s.loggedInUser)},getUserById:function(e,t){e.commit;var n=t.userId;return R.getById(n)},getLoggedInUser:function(e){var t=e.commit;R.getLoggedInUser().then(function(e){t({type:"setLoggedInUser",user:e})})}},getters:{isLoggedInUser:function(e){return!!e.loggedInUser},loggedInUser:function(e){return e.loggedInUser}}};s["default"].use(On["a"]);var Nn=new On["a"].Store({modules:{eventsModule:Ln,userModule:Mn}}),zn=n("9483");Object(zn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("0fae"),n("c1c3");var Tn=n("755e"),qn=n("5132"),Gn=n.n(qn),Bn=n("e93e"),Fn=n("0a63"),Jn=n.n(Fn),Hn=n("7bb1"),Rn="http://localhost:3000";Rn="/",s["default"].use(new Gn.a({debug:!0,connection:Rn,vuex:{store:Nn,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),s["default"].use(Tn,{load:{key:"AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4",libraries:"places"}}),s["default"].use(at.a),s["default"].use(Bn["a"]),s["default"].use(Jn.a),s["default"].use(L.a),s["default"].use(Hn["a"]),s["default"].config.productionTip=!1,s["default"].crossOrigin="true",new s["default"]({router:Sn,store:Nn,render:function(e){return e(S)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var s=n("5e27"),r=n.n(s);r.a},"5d72":function(e,t,n){},"5e27":function(e,t,n){},"6b13":function(e,t,n){"use strict";var s=n("50fc"),r=n.n(s);r.a},"788c":function(e,t,n){"use strict";var s=n("2c99"),r=n.n(s);r.a},"7aac":function(e,t,n){},"86f0":function(e,t,n){},"8d32":function(e,t,n){"use strict";var s=n("ebc2"),r=n.n(s);r.a},"8ff2":function(e,t,n){"use strict";var s=n("49c7"),r=n.n(s);r.a},9276:function(e,t,n){},"97f0":function(e,t,n){},"981f":function(e,t,n){"use strict";var s=n("386d"),r=n.n(s);r.a},"9b73":function(e,t,n){},"9bff":function(e,t,n){},"9ddd":function(e,t,n){"use strict";var s=n("86f0"),r=n.n(s);r.a},a227:function(e,t,n){"use strict";var s=n("2f79"),r=n.n(s);r.a},b216:function(e,t,n){"use strict";var s=n("51d0"),r=n.n(s);r.a},b246:function(e,t,n){"use strict";var s=n("3057"),r=n.n(s);r.a},b533:function(e,t,n){"use strict";var s=n("7aac"),r=n.n(s);r.a},c192:function(e,t,n){"use strict";var s=n("f81e"),r=n.n(s);r.a},c1c3:function(e,t,n){},c597:function(e,t,n){"use strict";var s=n("09ab"),r=n.n(s);r.a},c7a5:function(e,t,n){},cc51:function(e,t,n){"use strict";var s=n("0389"),r=n.n(s);r.a},ccc5:function(e,t,n){},d937:function(e,t,n){"use strict";var s=n("5d72"),r=n.n(s);r.a},e17d:function(e,t,n){"use strict";var s=n("9bff"),r=n.n(s);r.a},eb29:function(e,t,n){"use strict";var s=n("97f0"),r=n.n(s);r.a},ebc2:function(e,t,n){},f81e:function(e,t,n){}});
//# sourceMappingURL=app.cfc04979.js.map