(function(e){function t(t){for(var s,a,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)a=o[u],r[a]&&m.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},i=[];function a(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"8b907bfe"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,s){n=r[e]=[t,s]});t.push(n[2]=s);var i,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=a(e),i=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+s+": "+i+")");a.type=s,a.request=i,n[1](a)}r[e]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,c.appendChild(l)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0822":function(e,t,n){"use strict";var s=n("3876"),r=n.n(s);r.a},"09ab":function(e,t,n){},"0f7c":function(e,t,n){"use strict";var s=n("9b73"),r=n.n(s);r.a},1:function(e,t){},"165f":function(e,t,n){"use strict";var s=n("4397"),r=n.n(s);r.a},"215f":function(e,t,n){"use strict";var s=n("9276"),r=n.n(s);r.a},"2de3":function(e,t,n){},"2f79":function(e,t,n){},3057:function(e,t,n){},"386d":function(e,t,n){},3876:function(e,t,n){},4397:function(e,t,n){},"49c7":function(e,t,n){},"543f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("router-view"),n("msg-msg"),n("footer",[e._v("I Am Footer")])],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar flex space-between",class:{responsive:e.isOpen,guest:!e.isLoggedInUser}},[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[n("i",{staticClass:"fas fa-drum fa-lg"}),e._v(" MUSIGROUPS")]),n("div",{staticClass:"links"},[e.isLoggedInUser?n("router-link",{attrs:{to:"/user/"+e.loggedInUser._id}},[e._v("Profile")]):e._e(),e.isLoggedInUser?n("router-link",{attrs:{to:"/event/edit"}},[e._v("Create")]):e._e(),e.isLoggedInUser?n("a",{on:{click:e.logout}},[e._v("Logout")]):n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),n("a",{staticClass:"icon",on:{click:e.setIsOpen}},[n("i",{staticClass:"fa fa-bars"})])],1)},o=[],c={data:function(){return{isOpen:!1}},methods:{setIsOpen:function(){return this.isOpen=!this.isOpen},logout:function(){var e=this;this.$store.dispatch({type:"logout"}).then(function(){e.$router.push("/")})}},computed:{isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}}},l=c,u=(n("c597"),n("2877")),d=Object(u["a"])(l,a,o,!1,null,null,null);d.options.__file="nav-bar.vue";var m=d.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"msg-msg",class:{show:e.isShowing}},[n("h3",[e._v(e._s(e.msg))])])},p=[],f="show-user-msg",g=new s["default"],h=g,y={data:function(){return{isShowing:!1,msg:"event updated"}},methods:{},computed:{},watch:{},created:function(){var e=this;h.$on(f,function(t){e.msg=t,e.isShowing=!e.isShowing,setTimeout(function(){e.isShowing=!e.isShowing},2500)})}},b=y,_=(n("e79e"),Object(u["a"])(b,v,p,!1,null,"f662e080",null));_.options.__file="msg-msg.vue";var w=_.exports,I={components:{navBar:m,msgMsg:w},created:function(){this.$store.dispatch("getLoggedInUser")}},C=I,E=(n("5c0b"),Object(u["a"])(C,r,i,!1,null,null,null));E.options.__file="App.vue";var U=E.exports,k=n("5c96"),$=n.n(k),x=n("8c4f"),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),e.loggedInUser?n("div",{staticClass:"carousels-container loggedIn"},[e._l(e.loggedInUser.favGenres,function(t){return[n("section",{key:t,staticClass:"carousel-section favourite-genre"},[n("h2",{staticClass:"capitalize"},[e._v("Especially for you, "+e._s(t)+" music events:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(n){e.goList(t)}}},[e._v("Show All "+e._s(t)+" Events")]),n("hr")],1)]}),e._l(e.loggedInUser.instruments,function(t){return[n("section",{key:t,staticClass:"carousel-section favourite-genre"},[n("h2",{staticClass:"capitalize"},[e._v("Especially for you, events that need a "+e._s(t)+" player:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(n){e.goList("",t)}}},[e._v("Show All "+e._s(t)+" Events")]),n("hr")],1)]})],2):e._e(),n("div",{staticClass:"carousels-container"},[n("section",{staticClass:"carousel-section close-distance-events"},[n("h2",{staticClass:"capitalize"},[e._v("Music events in your area:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("","","location")}}},[e._v("Show All Events")])],1),n("hr"),n("section",{staticClass:"carousel-section close-distance-events"},[n("h2",{staticClass:"capitalize"},[e._v("events happening this week:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("","","","this week")}}},[e._v("Show All Events")])],1),n("hr"),n("section",{staticClass:"carousel-section rock-events"},[n("h2",{staticClass:"capitalize"},[e._v("Rock events for you:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("rock")}}},[e._v(">Show All Rock Events")])],1),n("hr"),n("section",{staticClass:"carousel-section just-opened-events"},[n("h2",{staticClass:"capitalize"},[e._v("Just Opened!")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("","","","","recent")}}},[e._v(">Show All Recent Events")])],1),n("hr"),n("section",{staticClass:"carousel-section guitar-events"},[n("h2",{staticClass:"capitalize"},[e._v("Guitar events for you:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("","guitar")}}},[e._v(">Show All Guitar Events")])],1),n("hr"),n("section",{staticClass:"carousel-section almost-full-events"},[n("h2",{staticClass:"capitalize"},[e._v("Almost full grab your place!")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("","","","","","almost full")}}},[e._v(">Show All Events")])],1),n("hr"),n("section",{staticClass:"carousel-section reggae-events"},[n("h2",{staticClass:"capitalize"},[e._v("Reggae events for you:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("reggae")}}},[e._v(">Show All Reggae Events")])],1),n("hr"),n("section",{staticClass:"carousel-section world-music-events"},[n("h2",{staticClass:"capitalize"},[e._v("World Music events for you:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("world")}}},[e._v(">Show All World Music Events")])],1),n("hr"),n("section",{staticClass:"carousel-section progressive-rock-events"},[n("h2",{staticClass:"capitalize"},[e._v("Progressive Rock events for you:")]),n("event-carousel",{attrs:{events:e.events}}),n("a",{on:{click:function(t){e.goList("progressive rock")}}},[e._v(">Show All Progressive Rock Events")])],1),n("hr")])])},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"flex"},[n("div",{staticClass:"welcome-text"},[e._v("Welcome! here you can find professional & amateur musicians to play your favorite music with.")]),n("iframe",{staticStyle:{height:"100%"},attrs:{width:"100%",src:"//www.youtube.com/embed/HspKIEa1qwk?t=30&autoplay=1&controls=0",frameborder:"0",allowfullscreen:""}})])}],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"event-list"},e._l(e.events,function(e){return n("event-preview",{key:e._id,attrs:{event:e}})}))},A=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"event-preview"},[n("router-link",{attrs:{to:"/event/"+e.event._id}},[n("div",{staticClass:"pic-wrapper flex flex-column justify-center"},[n("img",{staticClass:"main-img",attrs:{src:"https://picsum.photos/200/300/?random",alt:"event image"}})])]),n("div",{staticClass:"details flex flex-column space-between"},[n("div",{staticClass:"middle-floating-wrapper flex"},[e._l(e.playersToShow,function(t){return e.players.length?[n("router-link",{key:t._id,attrs:{to:"/user/"+t._id}},[n("img",{key:t._id,staticClass:"circle-icon",attrs:{title:t.name,src:t.pic}})])]:e._e()})],2),n("span",{staticClass:"bold"},[e._v(e._s(e.event.title))]),n("span",{staticClass:"capitalize"},[e._v(e._s(e.event.genre)+" music\n      "),n("i",{staticClass:"fas fa-music"}),e._v(" "+e._s(e.event.level)+" \n    ")]),n("i",{staticClass:"fas fa-music"}),n("span",{style:{color:e.status.color}},[e._v(" "+e._s(e.status.txt))]),n("span",{staticClass:"capitalize"},[e._v(e._s(e.event.location.city)+" "),n("i",{staticClass:"fas fa-music"}),e._v(" "+e._s(e.dateToShow))])])],1)},S=[],G=(n("28a5"),n("ac6a"),n("bc3a")),z="",O=[];W();var q={query:F,getById:B,signupUser:R,updateUser:J,login:T,logout:N,getLoggedInUser:D};function N(){return G.post("".concat(z,"/logout")).then(function(){sessionStorage.removeItem("loggedInUser")})}function D(){return sessionStorage.loggedInUser?Promise.resolve(JSON.parse(sessionStorage.loggedInUser)):Promise.resolve("")}function B(e){return G.get("".concat(z,"/player/").concat(e)),G.get("".concat(z,"/player/").concat(e)).then(function(e){return e.data})}function R(e){return G.post("".concat(z,"/signup"),e)}function T(e){var t=e.userName,n=e.password;return G.put("".concat(z,"/login"),{userName:t,password:n}).then(function(e){return sessionStorage.loggedInUser=JSON.stringify(e.data),e.data})}function J(e){var t=e._id;return G.put("".concat(z,"/player/").concat(t),e)}function F(){return Promise.resolve(O)}function W(){O=[{name:"rocki",password:"123",pic:"https://api.adorable.io/avatars/64/rocki.png",partEventsIds:[],adminEventsIds:[],instruments:["guitar"],favGenres:["rock","country"],level:"professional"},{name:"mocki",password:"234",pic:"https://api.adorable.io/avatars/64/mocki.png",partEventsIds:[],adminEventsIds:[],instruments:["drums"],favGenres:["rock"],level:"amateur"},{name:"bobo",password:"123",pic:"https://api.adorable.io/avatars/64/bobo.png",partEventsIds:[],adminEventsIds:[],instruments:["flute"],favGenres:["french"],level:"amateur"},{name:"robo",password:"123",pic:"https://api.adorable.io/avatars/64/robo.png",partEventsIds:[],adminEventsIds:[],instruments:["whistler"],favGenres:["irish"],level:"professional"},{name:"michael",password:"123",pic:"https://api.adorable.io/avatars/64/michael.png",partEventsIds:[],adminEventsIds:[],instruments:["trombone"],favGenres:["folk"],level:"amateur"},{name:"pichael",password:"123",pic:"https://api.adorable.io/avatars/64/pichael.png",partEventsIds:[],adminEventsIds:[],instruments:["trumpet"],favGenres:["jazz"],level:"professional"},{name:"leon",password:"123",pic:"https://api.adorable.io/avatars/64/leon.png",partEventsIds:[],adminEventsIds:[],instruments:["bass"],favGenres:["rock"],level:"amateur"}]}var H={props:{event:Object},data:function(){return{players:[]}},created:function(){var e=this;this.event.instruments.forEach(function(t){return t.playerIds.forEach(function(t){t&&e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.players.push(t)})})})},computed:{status:function(){var e=this.event.joinedMembersCount/+this.event.allowedMembersCount;return e<.4?{txt:"Waiting for players",color:"lightgreen"}:e<.8?{txt:"Kinda full",color:"white"}:e<1?{txt:"Almost full",color:"yellow"}:{txt:"Event full",color:"red"}},playersToShow:function(){return this.players.slice(0,4)},dateToShow:function(){var e=this.event.time.day.split("-").reverse();return e.splice(2,1),e.join("/")}}},K=H,Z=(n("981f"),Object(u["a"])(K,L,S,!1,null,null,null));Z.options.__file="event-preview.vue";var V=Z.exports,Q={props:{events:Array},components:{eventPreview:V}},X=Q,Y=(n("0f7c"),Object(u["a"])(X,M,A,!1,null,null,null));Y.options.__file="event-list.vue";var ee=Y.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"carousel"},[n("carousel",{attrs:{perPageCustom:[[0,1],[732,2],[1052,3]],"mouse-drag":!0,navigationEnabled:!0}},e._l(e.events,function(e){return n("slide",{key:e._id,staticClass:"slide"},[n("event-preview",{attrs:{event:e}})],1)}))],1)},ne=[],se={props:{events:Array},components:{eventPreview:V}},re=se,ie=(n("215f"),Object(u["a"])(re,te,ne,!1,null,null,null));ie.options.__file="event-carousel.vue";var ae=ie.exports,oe={name:"home",components:{eventList:ee,eventPreview:V,eventCarousel:ae},methods:{goList:function(){}},computed:{events:function(){return this.$store.getters.events},guitarEventsToShow:function(){if(this.guitarEvents.length>6)return this.guitarEvents.slice(0,6)},isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}},created:function(){document.body.scrollIntoView(),this.$store.dispatch({type:"loadEvents"})}},ce=oe,le=Object(u["a"])(ce,P,j,!1,null,null,null);le.options.__file="Home.vue";var ue=le.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("form",{staticClass:"edit-event-wrapper flex space-between"},[n("div",{staticClass:"edit-event-container"},[n("div",{staticClass:"edit-event-user-container"},[n("h4",[e._v(e._s(e.loggedInUser.name))]),n("div",{staticClass:"edit-event-user-image-container"},[n("img",{staticClass:"edit-event-image",attrs:{src:e.loggedInUser.pic,alt:"event admin"}})])]),n("h4",[e._v("Event Title")]),n("el-input",{attrs:{type:"text",id:"title",placeholder:"Event Title"},model:{value:e.event.title,callback:function(t){e.$set(e.event,"title",t)},expression:"event.title"}}),n("h4",[e._v("select genre")]),n("el-select",{attrs:{placeholder:"select genre"},model:{value:e.event.genre,callback:function(t){e.$set(e.event,"genre",t)},expression:"event.genre"}},[n("el-option",{attrs:{value:"rock"}},[e._v("Rock")]),n("el-option",{attrs:{value:"country"}},[e._v("Country")]),n("el-option",{attrs:{value:"jazz"}},[e._v("Jazz")]),n("el-option",{attrs:{value:"world"}},[e._v("World")]),n("el-option",{attrs:{value:"reggae"}},[e._v("Reggae")]),n("el-option",{attrs:{value:"freestyle"}},[e._v("Freestyle")]),n("el-option",{attrs:{value:"personal"}},[e._v("Personal Material")]),n("el-option",{attrs:{value:"other"}},[e._v("Other")])],1),n("h4",[e._v("select level")]),n("el-select",{attrs:{placeholder:"level"},model:{value:e.event.level,callback:function(t){e.$set(e.event,"level",t)},expression:"event.level"}},[n("el-option",{attrs:{value:"pro"}},[e._v("Professional")]),n("el-option",{attrs:{value:"amateur"}},[e._v("Amateur")])],1),n("h4",[e._v("Event Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.desc,expression:"event.desc"}],attrs:{placeholder:"Event Description"},domProps:{value:e.event.desc},on:{input:function(t){t.target.composing||e.$set(e.event,"desc",t.target.value)}}}),n("h4",[e._v("Choose instruments")]),n("instrument-list",{on:{"add-instrument":e.addInstrument}}),e._m(0),n("h4",[e._v("Freeplayers allowed")]),n("el-input",{attrs:{type:"number",min:"0",placeholder:"Number of free players",title:"free players can bring any instrument they want or just listen."},model:{value:e.event.freePlayers.amount,callback:function(t){e.$set(e.event.freePlayers,"amount",t)},expression:"event.freePlayers.amount"}})],1),n("div",{staticClass:"edit-event-container"},[n("el-input",{attrs:{type:"date"},model:{value:e.event.time.day,callback:function(t){e.$set(e.event.time,"day",t)},expression:"event.time.day"}}),n("div",[n("time-picker",{model:{value:e.event.time.hour,callback:function(t){e.$set(e.event.time,"hour",t)},expression:"event.time.hour"}})],1),n("el-input",{attrs:{type:"number",min:"0",placeholder:"cost"},model:{value:e.event.cost,callback:function(t){e.$set(e.event,"cost",t)},expression:"event.cost"}}),n("div",{staticClass:"img-n-address-container"},[e._m(1),n("div",{staticClass:"address-container"},[n("el-input",{attrs:{placeholder:"city"},model:{value:e.event.location.city,callback:function(t){e.$set(e.event.location,"city",t)},expression:"event.location.city"}}),n("el-input",{attrs:{placeholder:"street & number"},model:{value:e.event.location.address,callback:function(t){e.$set(e.event.location,"address",t)},expression:"event.location.address"}})],1)]),e.isUpdateEvent?n("el-button",{attrs:{type:"success"},on:{click:e.updateEvent}},[e._v("Update Event")]):n("el-button",{attrs:{type:"success"},on:{click:e.saveNewEvent}},[e._v("Save Event")]),n("router-link",{attrs:{to:"/"}},[n("el-button",{attrs:{type:"danger"}},[e._v("Cancel")])],1),e._v("\n      "+e._s(e.event)+"\n    ")],1)])])},me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-instruments-container"},[n("div",{staticClass:"add-instrument"},[n("i",{staticClass:"fas fa-plus"})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"img-container"},[n("img",{attrs:{src:"",alt:""}}),n("button",[e._v("Upload image")])])}],ve=(n("7f7f"),n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"instruments-list flex wrap"},e._l(e.instruments,function(t,s){return n("div",{key:t.name,on:{click:function(t){e.toggleInstrument(s)}}},[n("el-button",{on:{click:function(n){e.$emit("add-instrument",t.name)}}},[e._v(e._s(t.name))])],1)}))}),pe=[],fe={data:function(){return{instruments:[{name:"guitar",src:"",isSelected:!1},{name:"drums",src:"",isSelected:!1},{name:"bass guitar",src:"",isSelected:!1},{name:"flute",src:"",isSelected:!1},{name:"clarinet",src:"",isSelected:!1},{name:"piano",src:"",isSelected:!1},{name:"trumpet",src:"",isSelected:!1},{name:"french horn",src:"",isSelected:!1},{name:"trombone",src:"",isSelected:!1},{name:"xylophone",src:"",isSelected:!1},{name:"violin",src:"",isSelected:!1},{name:"saxophone",src:"",isSelected:!1}]}},methods:{toggleInstrument:function(e){this.instruments[e].isSelected=!this.instruments[e].isSelected}},computed:{},watch:{},created:function(){}},ge=fe,he=(n("c192"),Object(u["a"])(ge,ve,pe,!1,null,null,null));he.options.__file="instrument-list.vue";var ye=he.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-picker d-flex"},[n("div",{staticClass:"d-flex flex-column"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.changeHours(1)}}},[n("i",{staticClass:"fas fa-inverse fa-arrow-up"})]),e._v("\n          "+e._s(e.time.hours)+"\n          "),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.changeHours(-1)}}},[n("i",{staticClass:"fas fa-inverse fa-arrow-down"})])]),n("div",{staticClass:"d-flex flex-column"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.changeMinutes(1)}}},[n("i",{staticClass:"fas fa-inverse fa-arrow-up"})]),e._v("\n          "+e._s(e.time.minutes)+"\n          "),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.changeMinutes(-1)}}},[n("i",{staticClass:"fas fa-inverse fa-arrow-down"})])])])},_e=[],we=(n("6b54"),{props:{value:null},data:function(){return{time:this.value}},methods:{changeMinutes:function(e){var t=parseInt(this.time.minutes);t+=e,60===t&&(t=0),-1===t&&(t=59),this.time.minutes=t<10?"0"+t.toString():t.toString()},changeHours:function(e){var t=parseInt(this.time.hours);t+=e,24===t&&(t=0),-1===t&&(t=23),this.time.hours=t.toString()}}}),Ie=we,Ce=Object(u["a"])(Ie,be,_e,!1,null,null,null);Ce.options.__file="time-picker.vue";var Ee=Ce.exports,Ue={name:"edit-event",data:function(){return{event:{adminId:"",location:{address:"",city:""},time:{day:"",hour:{hours:"0",minutes:"00",ampm:"AM"}},title:"",desc:"",genre:"",level:"",pic:"",instruments:[],freePlayers:{amount:0,memberIds:[]},allowedMembersCount:0,joinedMembersCount:0,cost:0,msgs:[]}}},components:{timePicker:Ee,instrumentList:ye},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},isUpdateEvent:function(){return!!this.$route.params.eventId}},methods:{deleteEvent:function(){},fillEventObject:function(){var e=this.event.instruments.reduce(function(e,t){return e+=+t.amount,e},0);e+=+this.event.freePlayers.amount,this.event.allowedMembersCount=e,this.event.time.timestamp=new Date(this.event.time.day).getTime()},saveNewEvent:function(){var e=this;this.fillEventObject(),this.$store.dispatch({type:"saveNewEvent",event:this.event}).then(function(t){e.$store.dispatch({type:"updateUserAdminEvents",eventId:t}),e.$router.push("/")})},updateEvent:function(){var e=this;this.$store.dispatch({type:"updateEvent",event:this.event}).then(function(t){e.$router.push("/")})},addInstrument:function(e){var t=this.event.instruments.find(function(t){return t.instrument===e}),n={instrument:e,amount:1,playerIds:[]};t?t.amount++:this.event.instruments.push(n)}},created:function(){var e=this;this.isLoggedInUser||this.$router.push("/"),document.body.scrollIntoView(),this.event.adminId=this.loggedInUser._id,this.event.adminName=this.loggedInUser.name;var t=this.$route.params.eventId;t&&this.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.event=t})}},ke=Ue,$e=(n("165f"),Object(u["a"])(ke,de,me,!1,null,null,null));$e.options.__file="event-edit.vue";var xe=$e.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event?n("section",{staticClass:"cards-wrapper flex space-between"},[n("div",{staticClass:"card-container"},[n("h1",[e._v(e._s(e.event.title))]),n("div",{staticClass:"flex wrap align-center"},[n("img",{staticClass:"circle-icon mb-10",attrs:{src:e.admin.pic,alt:"event admin",title:e.admin.name}}),n("h4",{staticClass:"card-organizer-name px-10 capitalize"},[e._v(e._s(e.event.adminName)+" ")]),e.isLoggedInUserAdmin?e._e():n("el-button",{staticClass:"join-button",attrs:{type:"danger"},on:{click:e.toggleJoin}},[e._v("Join the event")]),e.isLoggedInUserAdmin?[n("el-button",{attrs:{type:"success",round:""},on:{click:e.goEdit}},[e._v("Edit Event")]),n("el-button",{attrs:{type:"danger",round:""},on:{click:e.removeEvent}},[e._v("Cancel Event")])]:e._e()],2),n("transition",{attrs:{name:"fade"}},[e.isJoining?n("div",{staticClass:"card-item-container"},[e.loggedInUser._id?n("h2",[e._v("Play with us as:")]):n("span",[e._v("Login to participate")]),n("div",{staticClass:"instruments-container"},e._l(e.event.instruments,function(t,s){return n("div",{key:s,staticClass:"instrument-item-container",on:{click:function(n){e.joinTheEvent(t.instrument)}}},[n("i",{staticClass:"fas fa-drum",attrs:{title:t.instrument}}),e._v("\n            "+e._s(t.instrument)+"\n          ")])}))]):e._e()]),n("div",{staticClass:"card-item-container"},[n("h4",[n("span",[e._v("\n          Genre: "+e._s(e.event.genre)+"\n          "),n("i",{staticClass:"fas fa-music"})]),n("span",[e._v("\n          Level: "+e._s(e.event.level)+"\n          "),n("i",{staticClass:"fas fa-music"})])])]),n("div",{staticClass:"card-item-container"},[n("p",{staticClass:"card-description"},[e._v(e._s(e.event.desc))]),n("div",{staticClass:"event-details"},[e._m(0),n("span",{staticClass:"capitalize"},[e._v("\n          "+e._s(e.event.location.address)+", "+e._s(e.event.location.city)+"\n          "),n("i",{staticClass:"fas fa-music"})]),e.event.cost?n("span",[e._v("cost: "+e._s(e.event.cost)+"$")]):n("span",[e._v("cost: free")])]),n("h4",[e._v("Map")]),e.center?n("GmapMap",{ref:"mapRef",staticClass:"static map",staticStyle:{height:"300px"},attrs:{zoom:18,center:e.center,"map-type-id":"roadmap"}},e._l(e.markers,function(t,s){return e.markers.position?n("GmapMarker",{key:s,attrs:{position:t.position,clickable:!0},on:{click:function(n){e.center=t.position}}}):e._e()})):e._e()],1)],1),n("div",{staticClass:"card-container"},[n("h4",[e._v("Event Discussion")]),n("feed-comp",{attrs:{currEvent:e.event},on:{sendUpdatedEvent:e.updateEventMsgs}}),n("h4",[e._v("\n      instruments:\n      "),e._l(e.event.instruments,function(t,s){return n("span",{key:s},[e._v(e._s(t.instrument)+" ")])})],2),n("h4",[e._v(e._s(e.event.joinedMembersCount)+"/"+e._s(e.event.allowedMembersCount)+" participators")]),e.isLoggedInUserAdmin?n("el-button",{attrs:{type:"danger",round:""}},[e._v("Remove participant")]):e._e(),n("h4",[e._v("Players attending:\n      "),n("br"),e._l(e.players,function(e){return[n("router-link",{key:e._id,attrs:{to:"/user/"+e._id}},[n("img",{key:e._id,staticClass:"circle-icon",attrs:{title:e.name,src:e.pic}})])]})],2),e.freePlayers.length?n("h4",[e._v("Free players attending:\n      "),n("br"),e._l(e.freePlayers,function(e){return[n("router-link",{key:e._id,attrs:{to:"/user/"+e._id}},[n("img",{key:e._id,staticClass:"circle-icon",attrs:{title:e.name,src:e.pic}})])]})],2):e._e()],1)]):e._e()},je=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fas fa-music"})])}],Me=(n("a481"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.center?n("GmapMap",{ref:"mapRef",staticClass:"static map",staticStyle:{height:"300px"},attrs:{zoom:18,center:e.center,"map-type-id":"roadmap"}},e._l(e.markers,function(t,s){return e.markers.position?n("GmapMarker",{key:s,attrs:{position:t.position,clickable:!0},on:{click:function(n){e.center=t.position}}}):e._e()})):e._e()}),Ae=[],Le=n("bc3a"),Se={props:["currEvent"],data:function(){return{markers:[{position:null}],center:null}},methods:{getCoorFromAddress:function(e){var t=this,n="".concat(e.address.replace(/[^a-zA-Z0-9]/g,"+"),"+").concat(e.city.replace(/[^a-zA-Z0-9]/g,"+"));return Le.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,"&key=AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4")).then(function(e){console.log(t.$refs.mapRef);var n=e.data.results[0].geometry.location;return t.center=n,t.markers.position.push(n),n}).then(function(e){t.$refs.mapRef.panTo(e)})}},created:function(){this.getCoorFromAddress(this.currEvent.location)}},Ge=Se,ze=(n("d937"),Object(u["a"])(Ge,Me,Ae,!1,null,null,null));ze.options.__file="gmap-map.vue";var Oe=ze.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conversation"},[n("div",{ref:"conversationRef",staticClass:"conversation-container"},e._l(e.msgs,function(t,s){return n("div",{key:s,staticClass:"message"},[n("div",{staticClass:"container"},[n("p",[e._v(e._s(t.from)+": "+e._s(t.txt))])])])})),n("form",{staticClass:"conversation-compose"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMsg.txt,expression:"newMsg.txt"}],staticClass:"input-msg",attrs:{name:"input",placeholder:"Type a message",autocomplete:"off",autofocus:""},domProps:{value:e.newMsg.txt},on:{input:function(t){t.target.composing||e.$set(e.newMsg,"txt",t.target.value)}}}),n("button",{on:{click:function(t){return t.preventDefault(),e.send(t)}}},[e._v("send")])])])},Ne=[],De=n("8055"),Be=n.n(De),Re=[],Te=Be()("http://localhost:3000"),Je=function(){return Re};function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jhon doe",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return console.log("createEmptyMsg: ",e),{txt:t,from:e}}function We(e){console.log("chat room-joined",e),Te.emit("chat room-joined",e)}function He(){Te.emit("disconnect")}var Ke={getMsgs:Je,createEmptyMsg:Fe,roomJoin:We,disconnectFromRoom:He};var Ze={props:["currEvent"],data:function(){return{msgs:[],nickName:null,newMsg:null,typeMsg:""}},methods:{send:function(){this.$socket.emit("assignMsg",{msg:this.newMsg,room:this.currEvent._id}),this.saveChatHistory(this.msgs),this.newMsg=Ke.createEmptyMsg(this.nickName),this.scrollToEnd()},scrollToEnd:function(){var e=this.$refs.conversationRef,t=e.scrollHeight;e.scrollTop=t},saveChatHistory:function(e){this.$emit("sendUpdatedEvent",e)}},created:function(){this.msgs=this.currEvent.msgs,this.nickName=this.$store.getters.loggedInUser.name,this.newMsg=Ke.createEmptyMsg(this.nickName);var e=this.currEvent._id;this.$socket.emit("chatJoined",e)},sockets:{renderMsg:function(e){console.log({msg:e}),this.msgs.push(e)}},mounted:function(){this.scrollToEnd()},destroyed:function(){}},Ve=Ze,Qe=(n("0822"),Object(u["a"])(Ve,qe,Ne,!1,null,"46bbe2af",null));Qe.options.__file="feed-comp.vue";var Xe=Qe.exports,Ye=n("bc3a"),et={data:function(){return{event:null,players:[],freePlayers:[],admin:{},isLoggedInUserAdmin:!1,isJoining:!1,markers:[{position:null}],center:null}},methods:{updateEventMsgs:function(e){console.log("from details",e)},joinAs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)this.event.freePlayers.membersIds.length<this.event.freePlayers.amount&&this.event.freePlayers.membersIds.push(this.loggedInUser._id);else{var t=this.event.instruments.find(function(t){return t.instrument===e});t.playersIds.length<t.amount&&t.playersIds.push(this.loggedInUser._id)}},joinTheEvent:function(e){var t={instrument:e,eventId:this.$route.params.eventId};this.$store.dispatch({type:"updateUserEvents",joinedEvent:t}),this.$store.dispatch({type:"joinEvent",joinedEvent:t}),this.$router.push("/")},goEdit:function(){var e=this.event._id;this.$router.push("/event/edit/".concat(e))},removeEvent:function(){var e=this,t=this.event._id;this.$store.dispatch({type:"removeEvent",eventId:t}).then(function(){e.$router.push("/")})},getCoorFromAddress:function(e){var t=this,n="".concat(e.address.replace(/[^a-zA-Z0-9]/g,"+"),"+").concat(e.city.replace(/[^a-zA-Z0-9]/g,"+"));return Ye.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,"&key=AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4")).then(function(e){console.log(t.$refs.mapRef);var n=e.data.results[0].geometry.location;return t.center=n,n}).then(function(e){t.$refs.mapRef.panTo(e)})},toggleJoin:function(){this.isJoining=!this.isJoining}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},dateToShow:function(){return this.event.time.day.split("-").reverse().join("/")}},created:function(){var e=this;document.body.scrollIntoView();var t=this.$route.params.eventId;this.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){return e.event=t,e.getCoorFromAddress(t.location),e.event=t}).then(function(){var t=e.event.adminId;e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.admin=t,e.admin._id===e.loggedInUser._id&&(e.isLoggedInUserAdmin=!0)})}).then(function(){e.event.instruments.forEach(function(t){return t.playerIds.forEach(function(t){t&&e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.players.push(t)})})}),e.event.freePlayers.memberIds.length&&e.event.freePlayers.memberIds.forEach(function(t){t&&e.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.freePlayers.push(t)})})})},mounted:function(){},components:{gmapMap:Oe,feedComp:Xe}},tt=et,nt=(n("8c94"),Object(u["a"])(tt,Pe,je,!1,null,"4f4b2e43",null));nt.options.__file="event-details.vue";var st=nt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"events-page"},[n("h1",[e._v(e._s(e.headline))]),n("filter-events",{on:{"filter-set":e.setFilter}}),n("event-list",{attrs:{events:e.events}})],1)},it=[],at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-filter d-flex justify-content-center"},[n("el-input",{staticClass:"el-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"search"},on:{input:e.setFilter},model:{value:e.filter.byName,callback:function(t){e.$set(e.filter,"byName",t)},expression:"filter.byName"}}),n("el-select",{staticClass:"el-select",attrs:{placeholder:"genre"},on:{change:e.setFilter},model:{value:e.filter.byGenre,callback:function(t){e.$set(e.filter,"byGenre",t)},expression:"filter.byGenre"}},e._l(e.genres,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-select",{staticClass:"el-select",attrs:{placeholder:"instrument"},on:{change:e.setFilter},model:{value:e.filter.byInstrument,callback:function(t){e.$set(e.filter,"byInstrument",t)},expression:"filter.byInstrument"}},e._l(e.instruments,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),n("el-button-group",[n("el-button",{staticClass:"btn btn-md btn-info",attrs:{type:"primary"},on:{click:function(t){e.setSorter("time")}}},[e._v(e._s("Sort by date"))]),n("el-button",{staticClass:"btn btn-md btn-info",attrs:{type:"primary"},on:{click:function(t){e.setSorter("allowedMembersCount")}}},[e._v(e._s("Sort by participants"))])],1)],1)},ot=[],ct=(n("55dd"),{props:{},data:function(){return{filter:{byName:"",byInstrument:"",byGenre:""},sort:{sorter:"",order:-1},selected:"All Categories",genres:[{label:"rock",value:"rock"},{label:"jazz",value:"jazz"},{label:"reggae",value:"reggae"},{label:"country",value:"country"},{label:"world",value:"world"},{label:"All genres",value:"All genres"}],instruments:[{label:"guitar",value:"guitar"},{label:"drums",value:"drums"},{label:"bass guitar",value:"bass guitar"},{label:"flute",value:"flute"},{label:"clarinet",value:"clarinet"},{label:"piano",value:"piano"},{label:"trumpet",value:"trumpet"},{label:"french horn",value:"french horn"},{label:"trombone",value:"trombone"},{label:"xylophone",value:"xylophone"},{label:"violin",value:"violin"},{label:"saxophone",value:"saxophone"},{label:"All instruments",value:"All instruments"}]}},methods:{setFilter:function(){this.$emit("filter-set",this.filter,this.sort)},setSorter:function(e){this.sort.sorter=e,this.sort.order*=-1,this.$emit("filter-set",this.filter,this.sort)}}}),lt=ct,ut=(n("7cde"),Object(u["a"])(lt,at,ot,!1,null,"f71a51fa",null));ut.options.__file="filter-events.vue";var dt=ut.exports,mt={name:"events-page",components:{filterEvents:dt,eventList:ee},props:{headline:String},data:function(){return{}},methods:{setFilter:function(e,t){this.$store.dispatch({type:"filter",filter:e,sort:t})}},computed:{events:function(){return this.$store.getters.events}},watch:{},created:function(){document.body.scrollIntoView(),this.$store.dispatch("loadEvents")}},vt=mt,pt=(n("b246"),Object(u["a"])(vt,rt,it,!1,null,null,null));pt.options.__file="events-page.vue";var ft=pt.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"signup-card-wrapper"},[n("form",{staticClass:"signup-form-container",on:{submit:function(t){return t.preventDefault(),e.submitNewUser(t)}}},[n("h1",[e._v("sign up")]),e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"Full Name..."},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"Password..."},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newUser.level,expression:"newUser.level"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newUser,"level",t.target.multiple?n:n[0])}}},[n("option",[e._v("amateur")]),n("option",[e._v("professional")])]),n("h4",[e._v("Instruments you play:")]),n("div",{staticClass:"signup-instruments"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.instruments,expression:"newUser.instruments"}],attrs:{type:"checkbox",id:"guitar",value:"Guitar"},domProps:{checked:Array.isArray(e.newUser.instruments)?e._i(e.newUser.instruments,"Guitar")>-1:e.newUser.instruments},on:{change:function(t){var n=e.newUser.instruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="Guitar",a=e._i(n,i);s.checked?a<0&&e.$set(e.newUser,"instruments",n.concat([i])):a>-1&&e.$set(e.newUser,"instruments",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newUser,"instruments",r)}}}),n("label",{attrs:{for:"guitar"}},[e._v("Guitar")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.instruments,expression:"newUser.instruments"}],attrs:{type:"checkbox",id:"bass",value:"Bass"},domProps:{checked:Array.isArray(e.newUser.instruments)?e._i(e.newUser.instruments,"Bass")>-1:e.newUser.instruments},on:{change:function(t){var n=e.newUser.instruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="Bass",a=e._i(n,i);s.checked?a<0&&e.$set(e.newUser,"instruments",n.concat([i])):a>-1&&e.$set(e.newUser,"instruments",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newUser,"instruments",r)}}}),n("label",{attrs:{for:"bass"}},[e._v("Bass")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.instruments,expression:"newUser.instruments"}],attrs:{type:"checkbox",id:"drums",value:"Drums"},domProps:{checked:Array.isArray(e.newUser.instruments)?e._i(e.newUser.instruments,"Drums")>-1:e.newUser.instruments},on:{change:function(t){var n=e.newUser.instruments,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="Drums",a=e._i(n,i);s.checked?a<0&&e.$set(e.newUser,"instruments",n.concat([i])):a>-1&&e.$set(e.newUser,"instruments",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newUser,"instruments",r)}}}),n("label",{attrs:{for:"drums"}},[e._v("Drums")])]),n("div",{staticClass:"signup-musicPrefs"},[n("h4",[e._v("favorite music:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.favGenres,expression:"newUser.favGenres"}],attrs:{type:"checkbox",id:"rock",value:"Rock"},domProps:{checked:Array.isArray(e.newUser.favGenres)?e._i(e.newUser.favGenres,"Rock")>-1:e.newUser.favGenres},on:{change:function(t){var n=e.newUser.favGenres,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="Rock",a=e._i(n,i);s.checked?a<0&&e.$set(e.newUser,"favGenres",n.concat([i])):a>-1&&e.$set(e.newUser,"favGenres",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newUser,"favGenres",r)}}}),n("label",{attrs:{for:"rock"}},[e._v("Rock")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.favGenres,expression:"newUser.favGenres"}],attrs:{type:"checkbox",id:"classic",value:"Classic"},domProps:{checked:Array.isArray(e.newUser.favGenres)?e._i(e.newUser.favGenres,"Classic")>-1:e.newUser.favGenres},on:{change:function(t){var n=e.newUser.favGenres,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="Classic",a=e._i(n,i);s.checked?a<0&&e.$set(e.newUser,"favGenres",n.concat([i])):a>-1&&e.$set(e.newUser,"favGenres",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newUser,"favGenres",r)}}}),n("label",{attrs:{for:"classic"}},[e._v("Classic")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.favGenres,expression:"newUser.favGenres"}],attrs:{type:"checkbox",id:"world",value:"World"},domProps:{checked:Array.isArray(e.newUser.favGenres)?e._i(e.newUser.favGenres,"World")>-1:e.newUser.favGenres},on:{change:function(t){var n=e.newUser.favGenres,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i="World",a=e._i(n,i);s.checked?a<0&&e.$set(e.newUser,"favGenres",n.concat([i])):a>-1&&e.$set(e.newUser,"favGenres",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.newUser,"favGenres",r)}}}),n("label",{attrs:{for:"world"}},[e._v("World")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newUser.bio,expression:"newUser.bio"}],staticClass:"signup-bio",attrs:{placeholder:"tell us about yourself..."},domProps:{value:e.newUser.bio},on:{input:function(t){t.target.composing||e.$set(e.newUser,"bio",t.target.value)}}}),n("div",{staticClass:"signup-button-wrapper"},[n("button",[e._v("Submit")]),n("router-link",{attrs:{to:"/"}},[n("el-button",[e._v("Back")])],1)],1)])])},ht=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signup-card-user-image-container"},[n("img",{staticClass:"signup-user-image",attrs:{src:"https://api.adorable.io/avatars/64/rocki.png",alt:"event admin"}})])}],yt=(n("bc3a"),{sort:bt,getRandomInt:_t,getRandomIntInclusive:wt});function bt(){}function _t(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function wt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var It={data:function(){return{newUser:{name:"",password:"",pic:"",instruments:[],level:"amateur",bio:"",favGenres:[],location:"",partEventsIds:[],adminEventsIds:[]}}},methods:{submitNewUser:function(){var e=this,t=yt.getRandomIntInclusive(1,90),n=yt.getRandomIntInclusive(0,1)?"women":"men";this.newUser.pic="https://randomuser.me/api/portraits/med/".concat(n,"/").concat(t,".jpg"),this.$store.dispatch({type:"signUpUser",newUser:this.newUser}).then(function(){e.$router.push("/")})}}},Ct=It,Et=(n("a227"),Object(u["a"])(Ct,gt,ht,!1,null,null,null));Et.options.__file="sign-up.vue";var Ut=Et.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"login-page flex justify-center"},[n("form",{staticClass:"flex flex-column align-center"},[n("h2",[e._v("Login to play")]),n("el-input",{attrs:{placeholder:"username"},model:{value:e.loginData.userName,callback:function(t){e.$set(e.loginData,"userName",t)},expression:"loginData.userName"}}),n("el-input",{attrs:{type:"password",placeholder:"password"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}}),e.isWrong?n("span",[e._v("Wrong password / username")]):e._e(),n("div",{staticClass:"flex"},[n("el-button",{attrs:{type:"primary",round:""},on:{click:e.submit}},[e._v("login")]),n("el-button",{attrs:{type:"primary",round:""},on:{click:e.signup}},[e._v("sign up")])],1),n("a",[e._v("forgot your password?")])],1)])},$t=[],xt={data:function(){return{loginData:{userName:"",password:""},isWrong:!1}},methods:{submit:function(){var e=this;this.$store.dispatch({type:"login",loginData:this.loginData}).then(function(t){t?(e.isWrong=!1,e.$router.push("/")):e.isWrong=!0})},signup:function(){this.$router.push("/signup")}},created:function(){document.body.scrollIntoView()}},Pt=xt,jt=(n("8ff2"),Object(u["a"])(Pt,kt,$t,!1,null,null,null));jt.options.__file="login-page.vue";var Mt=jt.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"user-profile flex flex-column capitalize"},[n("h1",{staticClass:"align-self-center"},[e._v(e._s(e.user.name))]),n("img",{staticClass:"circle-icon align-self-center",attrs:{src:e.user.pic}}),n("div",{staticClass:"main-container flex flex-column "},[n("h4",[e._v(e._s(e.user.name)+"'s profile details:")]),n("p",[e._v("Bio: "+e._s(e.user.bio))]),n("h3",[e._v("Level: "+e._s(e.user.level))]),n("h3",[e._v("Instruments: \n            "),e._l(e.user.instruments,function(t){return n("i",{key:t},[e._v("\n                "+e._s(t)+"\n            ")])})],2),n("h3",[e._v("\n            Preferred genres:\n            "),e._l(e.user.favGenres,function(t){return n("i",{key:t},[e._v("\n                "+e._s(t)+" \n            ")])}),e._v(".\n        ")],2),n("h3",[e._v("Events created by "+e._s(e.user.name)+":")]),e._l(e.userAdminEvents,function(t){return n("i",{key:t._id},[n("router-link",{attrs:{to:"/event/"+t._id}},[e._v("\n            "+e._s(t.title)+" \n            "+e._s(t.time.day)+" "+e._s(t.time.hour)),n("br"),n("br")])],1)}),n("h3",[e._v("Events "+e._s(e.user.name)+" joined:")]),e._l(e.userPartEvents,function(t){return n("i",{key:t._id},[n("router-link",{attrs:{to:"/event/"+t._id}},[e._v("\n            "+e._s(t.title)+" \n            "+e._s(t.time.day)+" "+e._s(t.time.hour)),n("br"),n("br")])],1)})],2)])},Lt=[],St={data:function(){return{userAdminEvents:[],userPartEvents:[],user:""}},computed:{isLoggedInUser:function(){return this.$store.getters.isLoggedInUser},loggedInUser:function(){return this.$store.getters.loggedInUser}},created:function(){var e=this;document.body.scrollIntoView();var t=this.$route.params.userId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){return e.user=t}).then(function(){e.user.adminEventsIds.forEach(function(t){e.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.userAdminEvents.push(t)})}),e.user.partEventsIds.forEach(function(t){e.$store.dispatch({type:"getEventById",eventId:t}).then(function(t){e.userPartEvents.push(t)})})})}},Gt=St,zt=(n("990f"),Object(u["a"])(Gt,At,Lt,!1,null,"d87099e2",null));zt.options.__file="user-profile.vue";var Ot=zt.exports;s["default"].use(x["a"]);var qt=new x["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ue},{path:"/event",name:"events-page",component:ft},{path:"/event/edit",name:"event-edit",component:xe},{path:"/event/edit/:eventId",name:"event-edit",component:xe},{path:"/event/:eventId",name:"event-details",component:st},{path:"/signup",name:"signup",component:Ut},{path:"/login",name:"login",component:Mt},{path:"/user/:userId",name:"userProfile",component:Ot},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),Nt=n("2f62"),Dt=n("bc3a"),Bt="/api",Rt={query:Tt,getEventById:Jt,getEvents:Ht,saveEvent:Wt,remove:Ft};function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("service");var n="/event";return e&&(n+="?genre=".concat(e.byGenre,"&instrument=").concat(e.byInstrument,"&name=").concat(e.byName)),t&&(n+="&sortBy=".concat(t.sorter,"&order=").concat(t.order)),console.log("heroku","".concat(Bt).concat(n)),Dt.get(Bt+n).then(function(e){return e.data})}function Jt(e){return Dt.get("".concat(Bt,"/event/").concat(e)).then(function(e){return e.data})}function Ft(e){return Dt.delete("".concat(Bt,"/event/").concat(e))}function Wt(e){return e._id?Dt.put("".concat(Bt,"/event/").concat(e._id),e):Dt.post("".concat(Bt,"/event"),e)}function Ht(){var e=[{adminId:"xyz",location:{address:"florentin 6",city:"tel aviv"},time:{day:"27/11",hour:"19:34"},title:"Playing Lez Deppelin",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"rock",level:"professional",pic:"https://www.chaarat.com/wp-content/uploads/2017/08/placeholder-user.png",instruments:[{instrument:"guitar",amount:2,playersIds:["5bfe891f35e8263350ceccb3","5bfe891f35e8263350ceccb4"]},{instrument:"french horn",amount:1,playersIds:[]}],freePlayers:{amount:3,membersIds:[]},allowedMembersCount:6,joinedMembersCount:2,cost:0},{adminId:"xyza",location:{address:"florentin 8",city:"tel aviv"},time:{day:"27/12",hour:"20:32"},title:"Playing Goola Boola",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"country",level:"amateur",pic:"https://www.chaarat.com/wp-content/uploads/2017/08/placeholder-user.png",instruments:[{instrument:"drums",amount:1,playersIds:["abc"]},{instrument:"trombone",amount:2,playersIds:["bcd"]}],freePlayers:{amount:4,membersIds:["cde","def"]},allowedMembersCount:7,joinedMembersCount:7,cost:45},{adminId:"bcd",location:{address:"florentin 10, tel aviv"},time:{day:"29/11",hour:"21:34"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"children",level:"amateur",pic:"https://www.chaarat.com/wp-content/uploads/2017/08/placeholder-user.png",instruments:[{instrument:"flute",amount:1,playersIds:["bcd"]},{instrument:"clarinet",amount:3,playersIds:["def","efg"]}],freePlayers:{amount:0,membersIds:[]},allowedMembersCount:7,joinedMembersCount:6,cost:20},{adminId:"xyzb",location:{address:"mahne yehuda 112",city:"jerusalem",lat:32.0853,lng:34.7818},time:{day:"30/12",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"rock",level:"pro",pic:"../../public/img/events/3.jpg",instruments:[{instrument:"guitar",amount:1,playersIds:["abc"]},{instrument:"drums",amount:3,playersIds:["def"]}],freePlayers:{amount:2,membersIds:[]},allowedMembersCount:6,joinedMembersCount:2,cost:20},{adminId:"abc",location:{address:"mahne yehuda 51",city:"jerusalem",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"rock",level:"pro",pic:"",instruments:[{instrument:"guitar",amount:2,playersIds:["abc"]},{instrument:"drums",amount:1,playersIds:["bcd"]}],freePlayers:{amount:5,membersIds:[]},allowedMembersCount:8,joinedMembersCount:2,cost:20},{adminId:"abc",location:{address:"5th avenue 1020",city:"new york",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"rock",level:"pro",pic:"",instruments:[{instrument:"guitar",amount:2,playersIds:["abc"]},{instrument:"flute",amount:1,playersIds:["bcd"]}],freePlayers:{amount:5,membersIds:[]},allowedMembersCount:8,joinedMembersCount:3,cost:0},{adminId:"abc",location:{address:"derech hayam 21",city:"haifa",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"rock",level:"pro",pic:"",instruments:[{instrument:"guitar",amount:4,playersIds:["abc"]},{instrument:"flute",amount:1,playersIds:["bcd"]}],freePlayers:{amount:4,membersIds:[]},allowedMembersCount:9,joinedMembersCount:2,cost:0},{adminId:"abc",location:{address:"reger 78",city:"beer sheva",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"rock",level:"pro",pic:"",instruments:[{instrument:"guitar",amount:2,playersIds:["abc"]},{instrument:"flute",amount:1,playersIds:[]}],freePlayers:{amount:2,membersIds:[]},allowedMembersCount:5,joinedMembersCount:1,cost:0},{adminId:"abc",location:{address:"aba hillel 24",city:"ramat gan",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"jazz",level:"pro",pic:"",instruments:[{instrument:"sax",amount:2,playersIds:["abc"]},{instrument:"piano",amount:1,playersIds:[]}],freePlayers:{amount:2,membersIds:[]},allowedMembersCount:5,joinedMembersCount:1,cost:0},{adminId:"abc",location:{address:"jessi cohen 69",city:"holon",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"jazz",level:"pro",pic:"",instruments:[{instrument:"sax",amount:2,playersIds:["abc"]},{instrument:"drums",amount:1,playersIds:[]}],freePlayers:{amount:0,membersIds:[]},allowedMembersCount:3,joinedMembersCount:1,cost:0},{adminId:"abc",location:{address:"bialik 22",city:"ramat gan",lat:32.0853,lng:34.7818},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"jazz",level:"pro",pic:"",instruments:[{instrument:"sax",amount:2,playersIds:["abc"]},{instrument:"guitar",amount:1,playersIds:["bcd","efg","fgh"]}],freePlayers:{amount:0,membersIds:[]},allowedMembersCount:3,joinedMembersCount:2,cost:0},{adminId:"abc",location:{address:"mahne yehuda 182",city:"jerusalem"},time:{day:"30/11",hour:"21:30"},title:"Playing Little Jonathan",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Distinctio in maiores, laborum placeat ipsam ea. In cupiditate sed necessitatibus libero cumque inventore distinctio quidem. Possimus delectus ullam numquam officiis ea!",genre:"jazz",level:"pro",pic:"",instruments:[{instrument:"trumpet",amount:1,playersIds:["abc","bcd"]},{instrument:"sax",amount:2,playersIds:["efg"]},{instrument:"guitar",amount:2,playersIds:["def","fgh"]}],freePlayers:{amount:0,membersIds:[]},allowedMembersCount:5,joinedMembersCount:3,cost:0}];return e}var Kt={state:{events:[],currEvent:null},mutations:{setEvents:function(e,t){var n=t.events;e.events=n},setCurrentEvent:function(e,t){var n=t.event;e.currEvent=n},setUpdateEvent:function(e,t){var n=t.joinedEvent;e.currEvent.instruments.find(function(e){return e.instrument===n.instrument}).playerIds.push(n.currUser._id),e.currEvent.joinedMembersCount++}},actions:{joinEvent:function(e,t){var n=e.commit,s=e.getters,r=e.state,i=t.joinedEvent;i.currUser=s.loggedInUser,n({type:"setUpdateEvent",joinedEvent:i}),Rt.saveEvent(r.currEvent).then(function(){h.$emit(f,"Joined event.")})},loadEvents:function(e){var t=e.commit;return Rt.query().then(function(e){console.log(e,"module"),t({type:"setEvents",events:e})})},getEventById:function(e,t){var n=e.commit,s=t.eventId;return Rt.getEventById(s).then(function(e){return n({type:"setCurrentEvent",event:e}),e})},saveNewEvent:function(e,t){e.commit;var n=t.event;return Rt.saveEvent(n).then(function(e){return h.$emit(f,"Event saved."),e.data.eventId})},updateEvent:function(e,t){e.commit;var n=t.event;return Rt.saveEvent(n).then(function(){h.$emit(f,"Event updated.")})},updateEventMsgs:function(e,t){e.commit;var n=t.event;return Rt.saveEvent(n).then(function(){})},removeEvent:function(e,t){e.commit;var n=t.eventId;return Rt.remove(n).then(function(){h.$emit(f,"Event canceled.")})},filter:function(e,t){var n=e.commit,s=e.dispatch,r=t.filter,i=t.sort;return r.byGenre||r.byInstrument||r.byName?Rt.query(r,i).then(function(e){n({type:"setEvents",events:e})}):i?Rt.query(null,i):s("loadEvents")}},getters:{events:function(e){return e.events},currEvent:function(e){return e.currEvent}}},Zt={state:{loggedInUser:{}},mutations:{setLoggedInUser:function(e,t){var n=t.user;e.loggedInUser=n},loginNewUser:function(e,t){var n=t.newUser;e.loggedInUser=n},logOutUser:function(e){e.loggedInUser=""},setUserPartEvent:function(e,t){var n=t.joinedEvent;e.loggedInUser.partEventsIds.push(n.eventId)},setUserAdminEvent:function(e,t){var n=t.eventId;e.loggedInUser.adminEventsIds.push(n)}},actions:{login:function(e,t){var n=e.commit,s=t.loginData;return q.login(s).then(function(e){return e&&n({type:"setLoggedInUser",user:e}),e})},signUpUser:function(e,t){var n=e.commit,s=t.newUser;q.signupUser(s).then(function(){n({type:"setLoggedInUser",user:s})})},logout:function(e){var t=e.commit;return q.logout(),t("logOutUser"),Promise.resolve()},updateUserPartEvents:function(e,t){var n=e.commit,s=e.state,r=t.joinedEvent;n({type:"setUserPartEvent",joinedEvent:r}),q.updateUser(s.loggedInUser)},updateUserAdminEvents:function(e,t){var n=e.commit,s=e.state,r=t.eventId;n({type:"setUserAdminEvent",eventId:r}),q.updateUser(s.loggedInUser)},getUserById:function(e,t){e.commit;var n=t.userId;return q.getById(n)},getLoggedInUser:function(e){var t=e.commit;q.getLoggedInUser().then(function(e){t({type:"setLoggedInUser",user:e})})}},getters:{isLoggedInUser:function(e){return!!e.loggedInUser},loggedInUser:function(e){return e.loggedInUser}}};s["default"].use(Nt["a"]);var Vt=new Nt["a"].Store({modules:{eventsModule:Kt,userModule:Zt}}),Qt=n("9483");Object(Qt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("0fae"),n("c1c3");var Xt=n("755e"),Yt=n("5132"),en=n.n(Yt),tn=n("e93e"),nn=n("0a63"),sn=n.n(nn),rn="http://localhost:3000";rn="/",s["default"].use(new en.a({debug:!0,connection:rn,vuex:{store:Vt,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),s["default"].use(Xt,{load:{key:"AIzaSyC1FhnnrcBKyOeZF9as6Qw89mBzjul9jU4",libraries:"places"}}),s["default"].use(tn["a"]),s["default"].use(sn.a),s["default"].config.productionTip=!1,s["default"].use($.a),s["default"].crossOrigin="true",new s["default"]({router:qt,store:Vt,render:function(e){return e(U)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var s=n("5e27"),r=n.n(s);r.a},"5d72":function(e,t,n){},"5e27":function(e,t,n){},"7cde":function(e,t,n){"use strict";var s=n("99e2"),r=n.n(s);r.a},"8c94":function(e,t,n){"use strict";var s=n("2de3"),r=n.n(s);r.a},"8ff2":function(e,t,n){"use strict";var s=n("49c7"),r=n.n(s);r.a},9276:function(e,t,n){},"981f":function(e,t,n){"use strict";var s=n("386d"),r=n.n(s);r.a},"990f":function(e,t,n){"use strict";var s=n("eb1e"),r=n.n(s);r.a},"99e2":function(e,t,n){},"9b73":function(e,t,n){},a227:function(e,t,n){"use strict";var s=n("2f79"),r=n.n(s);r.a},b246:function(e,t,n){"use strict";var s=n("3057"),r=n.n(s);r.a},c192:function(e,t,n){"use strict";var s=n("f81e"),r=n.n(s);r.a},c1c3:function(e,t,n){},c597:function(e,t,n){"use strict";var s=n("09ab"),r=n.n(s);r.a},d937:function(e,t,n){"use strict";var s=n("5d72"),r=n.n(s);r.a},e79e:function(e,t,n){"use strict";var s=n("543f"),r=n.n(s);r.a},eb1e:function(e,t,n){},f81e:function(e,t,n){}});
//# sourceMappingURL=app.418d1917.js.map